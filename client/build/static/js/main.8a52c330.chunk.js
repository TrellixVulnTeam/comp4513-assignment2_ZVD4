(this["webpackJsonpcomp4513-assignment2"]=this["webpackJsonpcomp4513-assignment2"]||[]).push([[0],{165:function(e,t,c){},260:function(e,t,c){},261:function(e,t,c){"use strict";c.r(t);var a,n=c(0),s=c.n(n),r=c(22),i=c.n(r),l=(c(165),c(57)),o=c(21),j=c(25),d=c(265),u=c(268),h=c(269),b=c(1),p=function(e){var t=d.a.Search,c=Object(n.useState)(),a=Object(o.a)(c,2),s=a[0],r=a[1],i=Object(b.jsx)(h.a,{style:{fontSize:16,color:"#1890ff"}});return Object(b.jsxs)("div",{id:"searchContainer",children:[Object(b.jsx)("div",{id:"homeTitleInput",children:Object(b.jsx)(u.b,{children:Object(b.jsx)(t,{id:"searchBarHome",placeholder:"Search Play Here",size:"large",suffix:i,onChange:function(e){r(e.target.value)}})})}),Object(b.jsxs)("div",{id:"homeButtons",children:[Object(b.jsx)(j.b,{to:{pathname:"/default",state:{title:s}},children:Object(b.jsx)("div",{id:"matchingButton",children:Object(b.jsx)("button",{type:"button","data-inline":"true",children:"Show matching Plays"})})}),Object(b.jsx)(j.b,{to:{pathname:"/default",state:{title:""}},children:Object(b.jsx)("div",{id:"showAllButton",children:Object(b.jsx)("button",{type:"button","data-inline":"true",children:"Show All Plays"})})})]})]})},x=function(e){return Object(n.useEffect)((function(){var e=setTimeout((function(){console.log("This will run after 5 seconds!")}),5e3);clearTimeout(e)}),[]),Object(b.jsxs)("div",{className:"homePage",children:[Object(b.jsxs)("div",{id:"homeSearch",children:[" ",Object(b.jsx)(p,{})]}),Object(b.jsxs)("div",{id:"heroCredit",children:["Photo by"," ",Object(b.jsx)("a",{href:"https://unsplash.com/@maxmuselmann?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",children:"Max Muselmann"})," ","on"," ",Object(b.jsx)("a",{href:"https://unsplash.com/s/photos/shakespeare?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",children:"Unsplash"})]})]})},O=c(264),f=c(263),m=c(266),v=c(52),g=c(270),y=c(271),k=c(272),C=O.a.SubMenu,D=function(e){var t=Object(n.useState)(!1),c=Object(o.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(!1),i=Object(o.a)(r,2),l=i[0],d=i[1],u=function(){s(!1)},h=function(){d(!1)};console.log("yes"),console.log(e.userData);var p="http://comp4513-assignment2.herokuapp.com/user/".concat(e.userData.id);return Object(b.jsxs)("div",{id:"headerBar",children:[Object(b.jsx)("div",{id:"homeLogoButton",children:Object(b.jsx)(j.b,{to:"/",children:Object(b.jsx)("img",{src:"https://img.icons8.com/office/40/000000/home--v1.png"})})}),Object(b.jsx)(O.a,{id:"menuDropdown",selectedKeys:["menu"],mode:"horizontal",children:Object(b.jsxs)(C,{icon:Object(b.jsx)("img",{src:"https://img.icons8.com/office/40/000000/menu--v1.png"}),children:[Object(b.jsx)(O.a.Item,{onClick:function(){s(!0)},icon:Object(b.jsx)(g.a,{}),children:"Profile"},"profile"),Object(b.jsxs)(O.a.Item,{onClick:function(){d(!0)},icon:Object(b.jsx)(y.a,{}),children:[" ","About"," "]},"about"),Object(b.jsx)(f.a,{}),Object(b.jsxs)(O.a.Item,{onClick:e.logout,icon:Object(b.jsx)(k.a,{}),children:[" ","Logout"," "]},"logout")]},"SubMenu")}),Object(b.jsxs)(m.a,{title:"About Us",className:"aboutModal",visible:l,onCancel:h,footer:[Object(b.jsxs)(v.a,{onClick:h,children:[" ","Close"," "]},"close")],children:[Object(b.jsx)("h2",{children:"Team Members"}),Object(b.jsx)("p",{children:"Anro Tran"}),Object(b.jsx)("p",{children:"Peter Huang"}),Object(b.jsx)("p",{children:"Mohamed Aly"}),Object(b.jsx)("h2",{children:"Github Repo"}),Object(b.jsx)("a",{href:"https://github.com/phuan516/comp4513-assignment1",children:Object(b.jsx)("p",{children:"Link to Repository"})}),Object(b.jsx)("h2",{children:" Links to APIs "}),Object(b.jsx)("a",{href:"http://comp4513-assignment2.herokuapp.com/api/list",children:Object(b.jsx)("p",{children:"Full List of Plays"})}),Object(b.jsx)("a",{href:"http://comp4513-assignment2.herokuapp.com/api/play/alls_well_that_ends_well",children:Object(b.jsx)("p",{children:"Specefic Plays"})}),Object(b.jsx)("a",{href:p,children:Object(b.jsx)("p",{children:"Logged in User"})}),Object(b.jsx)("h2",{children:"Reference Links"}),Object(b.jsx)("a",{href:"https://blog.logrocket.com/how-to-build-tab-component-react/",children:Object(b.jsx)("p",{children:"Building your own tab components"})}),Object(b.jsx)("a",{href:"https://stackoverflow.com/questions/24502898/show-or-hide-element-in-react",children:Object(b.jsx)("p",{children:"How to hide or show elements in react"})}),Object(b.jsx)("a",{href:"https://www.w3schools.com/howto/tryit.asp?filename=tryhow_css_custom_scrollbar",children:Object(b.jsx)("p",{children:"Custom scrollbars with webkit"})}),Object(b.jsx)("a",{href:"https://www.w3schools.com/howto/howto_css_full_page.asp",children:Object(b.jsx)("p",{children:"How to add full page background image"})}),Object(b.jsx)("a",{href:"https://stackoverflow.com/questions/4137255/checkboxes-in-web-pages-how-to-make-them-bigger",children:Object(b.jsx)("p",{children:"How to make checkboxes bigger with webkit"})}),Object(b.jsx)("a",{href:"https://expressjs.com/en/resources/middleware/cors.html",children:Object(b.jsx)("p",{children:"Express cors"})})]}),Object(b.jsxs)(m.a,{title:"Profile",className:"profileModal",visible:a,onCancel:u,footer:[Object(b.jsxs)(v.a,{onClick:u,children:[" ","Close"," "]},"close")],children:[Object(b.jsxs)("p",{id:"profileimg",children:[" ",Object(b.jsx)("img",{src:e.userData.picture.thumbnail})," "]}),Object(b.jsx)("br",{}),Object(b.jsxs)("h1",{children:[e.userData.details.firstname+" ",e.userData.details.lastname]}),Object(b.jsxs)("h2",{children:[e.userData.details.city+", "," ",e.userData.details.country]}),Object(b.jsx)("h2",{children:"Date joined: "+e.userData.membership.date_joined})]})]})},S=c(153),T=c(43),w=c.n(T),B=function(e){return Object(b.jsxs)("div",{id:"favoriteItem",children:[Object(b.jsx)(j.b,{to:"/playDetails",children:Object(b.jsxs)("p",{onClick:function(){e.updateCurrent(e.play),w()({method:"GET",withCredentials:!0,url:"https://comp4513-assignment2.herokuapp.com/api/play/".concat(e.play.id)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("playInfo",JSON.stringify(e))}))},children:[" ",e.play.title," "]})}),Object(b.jsx)("button",{type:"button",id:"deleteButton",onClick:function(){e.removeFromLike(e.play),S.b.info(e.play.title+" has been removed")},children:"Remove"})]})},F=function(e){return Object(b.jsxs)("div",{id:"favoritesBox",children:[Object(b.jsx)("h1",{children:"Favorites"}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{id:"favoritesList",children:e.plays.map((function(t,c){return Object(b.jsx)(B,{play:t,removeFromLike:e.removeFromLike,updateCurrent:e.updateCurrent,updateTab:e.updateTab},c)}))})]})},L=c(118),I=function(e){var t=Object(n.useState)({}),c=Object(o.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)({status:!0}),i=Object(o.a)(r,2),l=i[0],j=i[1],d=Object(n.useState)({status:!0}),u=Object(o.a)(d,2),h=u[0],p=u[1];Object(n.useEffect)((function(){e.title?(s({title:e.title}),e.updateFilteredData({title:e.title})):e.updateFilteredData({})}),[]);var x=function(e){var t=Object(L.a)({},a);""===e.target.value?delete t[e.target.name]:(t[e.target.name]=e.target.value,"before"===e.target.name&&j({status:!1,value:e.target.value}),"after"===e.target.name&&p({status:!1,value:e.target.value})),s(t)},O=function(e){var t=Object(L.a)({},a);"before"===e.target.name&&!1===l.status?(j({status:!0,value:l.value}),delete t.before):"before"===e.target.name&&!0===l.status?(j({status:!1,value:l.value}),t.before=l.value):"after"===e.target.name&&!1===h.status?(p({status:!0,value:h.value}),delete t.after):"after"===e.target.name&&!0===h.status&&(p({status:!1,value:h.value}),t.after=h.value),s(t)};return Object(b.jsxs)("div",{id:"filterBox",children:[Object(b.jsxs)("div",{id:"filtersAndCheck",children:[Object(b.jsxs)("div",{id:"checkBoxDiv",children:[" ",Object(b.jsx)("input",{type:"checkbox",className:"checkboxFave",onChange:function(){e.updateFaveBox(),e.updateIsChecked()}})," "]}),Object(b.jsx)("h1",{id:"filterTitle",children:"Play Filters"})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{id:"filterContentBox",children:Object(b.jsxs)("form",{onSubmit:function(t){e.updateFilteredData(a),t.preventDefault()},children:[Object(b.jsxs)("div",{id:"searchTitleBox",children:[Object(b.jsx)("label",{htmlFor:"title",children:"Title"}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"text",name:"title",id:"searchTitleInput",placeholder:"Search Title",onChange:x})]}),Object(b.jsxs)("div",{id:"searchYearBox",children:[Object(b.jsx)("label",{htmlFor:"year",id:"yearTitle",children:" Year "})," ",Object(b.jsx)("br",{}),Object(b.jsxs)("div",{id:"beforeSearch",children:[Object(b.jsx)("div",{id:"beforeCheckBox",children:Object(b.jsx)("input",{type:"checkbox",name:"before",onChange:O})}),Object(b.jsxs)("label",{htmlFor:"before",name:"before",id:"labelBefore",children:["Before",Object(b.jsx)("input",{type:"text",name:"before",id:"inputBefore",disabled:l.status,onChange:x})]})]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{id:"afterSearch",children:Object(b.jsxs)("div",{id:"afterCheckBox",children:[Object(b.jsx)("input",{type:"checkbox",name:"after",onChange:O}),Object(b.jsxs)("label",{htmlFor:"after",name:"after",id:"labelAfter",children:["After",Object(b.jsx)("input",{type:"text",name:"after",id:"inputAfter",disabled:h.status,onChange:x})]})]})})]}),Object(b.jsxs)("div",{id:"genreBox",children:[Object(b.jsx)("label",{htmlFor:"genre",children:"Genre"}),Object(b.jsx)("br",{}),Object(b.jsxs)("select",{name:"genre",id:"genre",onChange:x,children:[Object(b.jsx)("option",{defaultValue:""}),Object(b.jsx)("option",{name:"genre",value:"comedy",children:"comedy"}),Object(b.jsx)("option",{name:"genre",value:"tragedy",children:"tragedy"}),Object(b.jsx)("option",{name:"genre",value:"history",children:"history"})]})]}),Object(b.jsxs)("div",{id:"filterButtons",children:[Object(b.jsx)("button",{type:"submit",id:"filterButton",children:" Filter "}),Object(b.jsx)("button",{type:"reset",id:"clearButton",onClick:function(e){s({}),j({status:!0}),p({status:!0})},children:" Clear "})]})]})})]})},N=c(148),P=c(267),A=function(e){var t={userData:e.userData,logout:e.logout};return Object(b.jsxs)("div",{id:"listBoxItems",children:[Object(b.jsx)("p",{id:"playInfoTitle",children:e.play.title}),Object(b.jsx)("p",{id:"playDate",children:e.play.likelyDate}),Object(b.jsxs)("div",{id:"playListButtons",children:[Object(b.jsx)(P.a,{in:!0,timeout:1e4,classNames:"fade",appear:!0,children:Object(b.jsx)("button",{type:"button",id:"likeButton",onClick:function(){e.addToLike(e.play)},children:"\u2764"})}),Object(b.jsx)(j.b,{to:{pathname:"/playDetails",state:{userInfo:t}},children:Object(b.jsx)("button",{type:"button",id:"viewButton",onClick:function(){e.updateCurrent(e.play),w()({method:"GET",withCredentials:!0,url:"https://comp4513-assignment2.herokuapp.com/api/play/".concat(e.play.id)}).then((function(e){return e.JSON()})).then((function(e){localStorage.setItem("playInfo",JSON.stringify(e))}))},children:"View"})})]})]})},E=c(149).a.h1(a||(a=Object(N.a)(["\n  font-style: italic;\n  color: red;\n"]))),_=function(e){return Object(b.jsxs)("div",{id:"listBox",children:[Object(b.jsx)("h1",{id:"listTitle",children:"List / Match"}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{id:"listPlayInfo",children:!0===e.matchesBoolean?Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{id:"listHeader",children:[Object(b.jsx)("h2",{id:"titleLabel",style:{cursor:"pointer"},onClick:function(){e.sortTitle()},children:"Title"})," ",Object(b.jsx)("h2",{id:"listLabel",style:{cursor:"pointer"},onClick:function(){e.sortYear()},children:"Year"})," ",Object(b.jsx)("p",{})]}),Object(b.jsx)("div",{id:"listPlayBox",children:e.plays.map((function(t,c){return Object(b.jsx)(A,{userData:e.userData,logout:e.logout,play:t,addToLike:e.addToLike,updateCurrent:e.updateCurrent},c)}))})]}):Object(b.jsx)(E,{children:"No Matches Found. Please Try Again! "})})]})},H=c(23),J=function(e){var t=Object(H.e)(),c=Object(n.useState)(!0),a=Object(o.a)(c,2),s=a[0],r=a[1];Object(n.useEffect)((function(){t.state.filters&&e.setFilteredData(t.state.filters)}),[]);var i="";t.state.title&&(i=t.state.title);var j=Object(n.useState)(e.plays),d=Object(o.a)(j,2),u=(d[0],d[1]);return Object(b.jsxs)("div",{className:"defaultPage",children:[Object(b.jsx)(D,{userData:e.userData,logout:e.logout}),Object(b.jsxs)("div",{id:"defaultPageInfoBox",children:[e.showFavorites&&!1===e.isChecked?Object(b.jsxs)("div",{id:"defaultFavoriteBox",children:[" ",Object(b.jsx)(F,{plays:e.likedPlays,removeFromLike:e.removeFromLike,updateCurrent:e.updateCurrent})," "]}):Object(b.jsx)("div",{id:"hiddenFaveBox",children:" "}),Object(b.jsx)(I,{updateFilteredData:function(t){var c=[];0===Object.keys(t).length?c=Object(l.a)(e.mainData):(t.title&&(t.title=t.title.toLowerCase()),e.mainData.forEach((function(e){t.title&&t.genre&&t.before&&t.after?e.title.toLowerCase().includes(t.title)&&e.genre===t.genre&&e.likelyDate<t.before&&e.likelyDate>t.after&&c.push(e):t.title&&t.genre&&t.before?e.title.toLowerCase().includes(t.title)&&e.genre===t.genre&&e.likelyDate<t.before&&c.push(e):t.title&&t.before&&t.after?e.title.toLowerCase().includes(t.title)&&e.likelyDate<t.before&&e.likelyDate>t.after&&c.push(e):t.title&&t.after&&t.genre?e.title.toLowerCase().includes(t.title)&&e.likelyDate>t.after&&e.genre===t.genre&&c.push(e):t.genre&&t.before&&t.after?e.genre===t.genre&&e.likelyDate<t.before&&e.likelyDate>t.after&&c.push(e):t.title&&t.genre?e.title.toLowerCase().includes(t.title)&&e.genre===t.genre&&c.push(e):t.title&&t.after?e.title.toLowerCase().includes(t.title)&&e.likelyDate>t.after&&c.push(e):t.title&&t.before?e.title.toLowerCase().includes(t.title)&&e.likelyDate<t.before&&c.push(e):t.genre&&t.before?e.genre===t.genre&&e.likelyDate<t.before&&c.push(e):t.genre&&t.after?e.genre===t.genre&&e.likelyDate>t.after&&c.push(e):t.before&&t.after?e.likelyDate<t.before&&e.likelyDate>t.after&&c.push(e):t.genre?e.genre===t.genre&&c.push(e):t.title?e.title.toLowerCase().includes(t.title)&&c.push(e):t.before?e.likelyDate<t.before&&c.push(e):t.after&&e.likelyDate>t.after&&c.push(e)}))),0===c.length?r(!1):r(!0),e.setFilteredData(c)},title:i,matchesFound:s,updateIsChecked:e.updateIsChecked,updateFaveBox:e.updateFaveBox}),Object(b.jsx)(_,{userData:e.userData,logout:e.logout,plays:e.plays,addToLike:e.addToLike,removeFromLike:e.removeFromLike,updateCurrent:e.updateCurrent,matchesBoolean:s,sortTitle:function(){var t=e.plays.sort((function(e,t){var c=e.title.toLowerCase(),a=t.title.toLowerCase();return c<a?-1:c>a?1:0}));u(t),console.log(Object(l.a)(t))},sortYear:function(){var t=e.plays.sort((function(e,t){var c=parseInt(e.likelyDate,10),a=parseInt(t.likelyDate,10);return c<a?-1:c>a?1:0}));u(Object(l.a)(t))}})]})]})},M=c(116),W=c.n(M),G=c(152),R=function(e){return Object(b.jsxs)("div",{id:"favoriteItem",children:[Object(b.jsx)(j.b,{to:"/playDetails",children:Object(b.jsxs)("p",{onClick:function(){e.updateCurrent(e.play),w()({method:"GET",withCredentials:!0,url:"https://comp4513-assignment2.herokuapp.com/api/play/".concat(e.play.id)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("playInfo",JSON.stringify(e))})),e.updateTab()},children:[" ",e.play.title," "]})}),Object(b.jsx)("button",{type:"button",id:"deleteButton",onClick:function(){e.removeFromLike(e.play),S.b.info(e.play.title+" has been removed")},children:"Remove"})]})},Y=function(e){return Object(b.jsxs)("div",{id:"favoritesBox",children:[Object(b.jsx)("h1",{children:"Favorites"}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{id:"favoritesList",children:e.plays.map((function(t,c){return Object(b.jsx)(R,{play:t,removeFromLike:e.removeFromLike,updateCurrent:e.updateCurrent,updateTab:e.updateTab},c)}))})]})},z=function(e){return Object(b.jsxs)("div",{className:"DetailsTab",children:[Object(b.jsx)("h1",{children:" Play Info "}),Object(b.jsxs)("p",{children:[" Likely date of composition: ",e.current.likelyDate]}),Object(b.jsxs)("p",{children:[" Genre: ",e.current.genre]}),Object(b.jsx)("h1",{children:" Web Links"}),Object(b.jsxs)("p",{children:[" Wiki Link: ",e.current.wiki]}),Object(b.jsxs)("p",{children:[" Gutenberg Link: ",e.current.gutenberg]}),Object(b.jsxs)("p",{children:[" Shakespear.org Link: ",e.current.shakespeareOrg]}),Object(b.jsx)("h1",{children:" Description "}),Object(b.jsxs)("p",{children:[" ",e.current.desc," "]})]})},U=function(e){var t=JSON.parse(localStorage.getItem("playInfo")).persona;return Object(b.jsx)("div",{className:"CharactersTab",children:t.map((function(e,t){return Object(b.jsxs)("div",{className:"allPlayers",children:[Object(b.jsxs)("p",{className:"position",children:["Position: ",e.position]},t),Object(b.jsxs)("p",{className:"player",children:[" ",e.player," "]},e.player),Object(b.jsxs)("p",{className:"desc",children:[" ",e.desc," "]},e.desc)]},t)}))})},q=c(117),V=c.n(q),K=function(e){return""===e.currentSpeaker?Object(b.jsxs)("div",{className:"TextTab",children:[Object(b.jsx)("h1",{children:e.playInfo.title}),Object(b.jsxs)("h2",{children:[" ",e.currentAct]}),Object(b.jsxs)("h3",{children:[" ",e.currentScene]}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{id:"sceneSpeeches",children:e.playInfo.acts.map((function(t){if(t.name===e.currentAct)return t.scenes.map((function(t,c){if(t.name===e.currentScene)return Object(b.jsxs)("div",{id:"actSceneDirection",children:[Object(b.jsxs)("h4",{children:[" ",t.title," "]}),Object(b.jsxs)("h4",{children:[" ",t.stageDirection]})]},c)}))}))})]}):Object(b.jsxs)("div",{className:"TextTab",children:[Object(b.jsx)("h1",{children:e.playInfo.title}),Object(b.jsxs)("h2",{children:[" ",e.currentAct]}),Object(b.jsxs)("h3",{children:[" ",e.currentScene]}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{id:"speakerSpeeches",children:e.playInfo.acts.map((function(t){if(t.name===e.currentAct)return t.scenes.map((function(t){if(t.name===e.currentScene)return t.speeches.map((function(t,c){if(t.speaker===e.currentSpeaker)return Object(b.jsxs)("div",{children:[Object(b.jsx)(V.a,{searchWords:[e.highlightedWord],textToHighlight:String(t.speaker)}),":",Object(b.jsx)("br",{}),Object(b.jsx)(V.a,{searchWords:[e.highlightedWord],textToHighlight:String(t.lines)}),Object(b.jsx)("br",{})," ",Object(b.jsx)("br",{})]},c)}))}))}))})]})},Q=function(e){return""===e.current.filename?Object(b.jsxs)("div",{className:"Tabs",children:[Object(b.jsx)("ul",{className:"nav",children:Object(b.jsx)("li",{className:"Details"===e.tab?"active":"",children:"Details"})}),Object(b.jsx)("div",{className:"outlet",children:Object(b.jsx)(z,{current:e.current})})]}):Object(b.jsxs)("div",{className:"Tabs",children:[Object(b.jsxs)("ul",{className:"nav",children:[Object(b.jsxs)("li",{className:"Details"===e.tab?"active":"",onClick:function(){e.tabIsText("Details")},children:[" ","Details"]}),Object(b.jsxs)("li",{className:"Characters"===e.tab?"active":"",onClick:function(){e.tabIsText("Characters")},children:[" ","Characters"]}),Object(b.jsxs)("li",{className:"Text"===e.tab?"active":"",onClick:function(){e.tabIsText("Text")},children:[" ","Text"]})]}),Object(b.jsxs)("div",{id:"tabHR",children:[" ",Object(b.jsx)("hr",{})," "]}),Object(b.jsx)("div",{className:"outlet",children:"Details"===e.tab?Object(b.jsx)(z,{current:e.current}):"Characters"===e.tab?Object(b.jsx)(U,{current:e.current}):"Text"===e.tab?Object(b.jsx)(K,{current:e.current,playInfo:JSON.parse(localStorage.getItem("playInfo")),currentAct:e.currentAct,currentScene:e.currentScene,currentSpeaker:e.currentSpeaker,highlightedWord:e.highlightedWord}):""})]})},X=(c(260),function(e){var t=Object(n.useState)("Details"),c=Object(o.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)("ACT I"),i=Object(o.a)(r,2),l=i[0],d=i[1],u=Object(n.useState)("SCENE I"),h=Object(o.a)(u,2),p=h[0],x=h[1],O=Object(n.useState)(""),f=Object(o.a)(O,2),m=f[0],v=f[1],g=Object(n.useState)(""),y=Object(o.a)(g,2),k=y[0],C=y[1],S=Object(H.e)(),T=function(e){s(e)},w=function(){s("Details")},B=function(){e.addToLike(e.current)};Object(n.useEffect)((function(e){var t=function(){var t=Object(G.a)(W.a.mark((function t(){var c,a,n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c="https://comp4513-assignment2.herokuapp.com/api/play/".concat(e.current.id),t.next=4,fetch(c);case 4:return a=t.sent,t.next=7,a.json();case 7:n=t.sent,localStorage.setItem("playInfo",JSON.stringify(n)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var F=function(){e.updateFaveBox(),e.updateIsChecked()};if("Text"===a){var L=[];return L.push(JSON.parse(localStorage.getItem("playInfo"))),Object(b.jsxs)("div",{className:"playDetailsPage",children:[Object(b.jsx)(D,{userData:S.state.userInfo.userData,logout:S.state.userInfo.logout}),Object(b.jsxs)("div",{id:"playDetailsBox",children:[e.showFavorites&&!1===e.isChecked?Object(b.jsx)("div",{id:"detailsFavoriteList",children:Object(b.jsx)(Y,{plays:e.likedPlays,removeFromLike:e.removeFromLike,updateCurrent:e.updateCurrent,updateTab:w})}):Object(b.jsx)("div",{id:"hiddenFaveBox",children:" "}),Object(b.jsxs)("div",{id:"playTitleBox",children:[Object(b.jsxs)("div",{id:"checkAndTitle",children:[Object(b.jsxs)("div",{id:"checkBoxDiv",children:[" ",Object(b.jsx)("input",{type:"checkbox",className:"checkboxFave",onChange:F})," "]}),Object(b.jsx)("h1",{id:"playTitle",children:e.current.title})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{id:"formBox",children:[Object(b.jsxs)("form",{id:"textFilterBox",children:[Object(b.jsx)("select",{name:"act",id:"act",onChange:function(e){console.log(e.target.value),d(e.target.value)},children:L[0].acts.map((function(e){return Object(b.jsxs)("option",{value:e.name,children:[" ",e.name," "]},e.name)}))}),Object(b.jsx)("select",{name:"scene",id:"scene",onChange:function(e){console.log(e.target.value),x(e.target.value)},children:L[0].acts.map((function(e){if(e.name===l)return e.scenes.map((function(e){return Object(b.jsxs)("option",{value:e.name,children:[" ",e.name," "]},e.name)}))}))})]}),Object(b.jsxs)("form",{className:"playerSearch",children:[Object(b.jsxs)("select",{name:"speaker",id:"speaker",onChange:function(e){""!==e.target.value&&"clear"!==e.target.value?(console.log(e.target.value),v(e.target.value)):"clear"===e.target.value&&(v(""),console.log("Search is cleared --\x3e"+e.target.value))},children:[Object(b.jsx)("option",{value:"",children:" Choose Player Here "}),L[0].persona.map((function(e){return Object(b.jsxs)("option",{value:e.player,children:[" ",e.player," "]},e.player)})),Object(b.jsx)("option",{value:"clear",children:" CLEAR SEARCH "})]}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{id:"highlightedWord",type:"text",name:"name",onChange:function(e){console.log(e.target.value),C(e.target.value)}})]})]}),Object(b.jsxs)("div",{id:"textPlayDetailsButtons",children:[Object(b.jsx)(j.b,{to:{pathname:"/default",state:{filters:e.filters}},children:Object(b.jsxs)("button",{type:"button",id:"closeButton",children:[" ","Close"," "]})}),Object(b.jsxs)("button",{onClick:B,id:"likeButton",children:[" ","\u2764"," "]})]})]}),Object(b.jsx)("div",{id:"tabsBox",children:Object(b.jsx)(Q,{current:e.current,tab:a,tabIsText:T,currentAct:l,currentScene:p,currentSpeaker:m,highlightedWord:k})})]})]})}return Object(b.jsxs)("div",{className:"playDetailsPage",children:[Object(b.jsx)(D,{userData:S.state.userInfo.userData,logout:S.state.userInfo.logout}),Object(b.jsxs)("div",{id:"playDetailsBox",children:[e.showFavorites&&!1===e.isChecked?Object(b.jsx)("div",{id:"detailsFavoriteList",children:Object(b.jsx)(Y,{plays:e.likedPlays,removeFromLike:e.removeFromLike,updateCurrent:e.updateCurrent,updateTab:w})}):Object(b.jsx)("div",{id:"hiddenFaveBox",children:" "}),Object(b.jsxs)("div",{id:"playTitleBox",children:[Object(b.jsxs)("div",{id:"checkAndTitle",children:[Object(b.jsxs)("div",{id:"checkBoxDiv",children:[" ",Object(b.jsx)("input",{type:"checkbox",className:"checkboxFave",onChange:F})," "]}),Object(b.jsx)("h1",{id:"playTitle",children:e.current.title})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{id:"playSummaryBox",children:[Object(b.jsx)("div",{id:"synopsisBox",children:e.current.synopsis}),Object(b.jsxs)("div",{id:"playDetailsButtons",children:[Object(b.jsx)(j.b,{to:{pathname:"/default",state:{filters:e.filters}},children:Object(b.jsxs)("button",{type:"button",id:"closeButton",children:[" ","Close"," "]})}),Object(b.jsxs)("button",{onClick:B,id:"likeButton",children:[" ","\u2764"," "]})]})]})]}),Object(b.jsx)("div",{id:"tabsBox",children:Object(b.jsx)(Q,{current:e.current,tab:a,tabIsText:T,currentAct:l,currentScene:p,currentSpeaker:m,highlightedWord:k})})]})]})});var Z=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),r=Object(o.a)(s,2),i=r[0],d=r[1],u=Object(n.useState)([]),h=Object(o.a)(u,2),p=h[0],O=h[1],f=Object(n.useState)([]),m=Object(o.a)(f,2),v=m[0],g=m[1],y=Object(n.useState)([]),k=Object(o.a)(y,2),C=k[0],D=k[1],S=Object(n.useState)(!1),T=Object(o.a)(S,2),B=T[0],F=T[1],L=Object(n.useState)(!0),I=Object(o.a)(L,2),N=I[0],P=I[1];Object(n.useEffect)((function(){w()({method:"GET",withCredentials:!0,url:"https://comp4513-assignment2.herokuapp.com/user"}).then((function(e){d(e.data),console.log(e.data)})),console.log(i)}),[]);var A=function(){w()({method:"GET",withCredentials:!0,url:"https://comp4513-assignment2.herokuapp.com/api/list"}).then((function(e){console.log(e.data),localStorage.setItem("playData",JSON.stringify(e.data)),a(e.data),console.log(e.data)}))};Object(n.useEffect)((function(){A(),null==localStorage.getItem("playData")?A():a(JSON.parse(localStorage.getItem("playData")))}),[]);var E=function(e){var t=Object(l.a)(v);t.find((function(t){return t.title===e.title}))?console.log("already in list"):(t.push(e),g(t))},_=function(e){var t=Object(l.a)(v),c=t.indexOf(e);t.splice(c,1),g(t)},M=function(e){D(e)},W=function(){F(!B)},G=function(){P(!N)};return console.log(i),Object(b.jsx)("main",{children:Object(b.jsxs)(j.a,{basename:"/",children:[Object(b.jsx)(H.a,{path:"/",exact:!0,component:x}),Object(b.jsx)(H.a,{path:"/home",exact:!0,component:x}),Object(b.jsx)(H.a,{path:"/default",children:Object(b.jsx)(J,{mainData:c,userData:i,logout:function(){window.location.assign("https://comp4513-assignment2.herokuapp.com/logout")},setFilteredData:O,plays:p,likedPlays:v,addToLike:E,removeFromLike:_,updateCurrent:M,current:C,isChecked:B,updateIsChecked:W,showFavorites:N,updateFaveBox:G})}),Object(b.jsx)(H.a,{path:"/playDetails",children:Object(b.jsx)(X,{plays:c,likedPlays:v,addToLike:E,removeFromLike:_,current:C,updateCurrent:M,filters:p,isChecked:B,updateIsChecked:W,showFavorites:N,updateFaveBox:G})})]})})},$=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,273)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(j.a,{children:Object(b.jsx)(Z,{})})}),document.getElementById("root")),$()}},[[261,1,2]]]);
//# sourceMappingURL=main.8a52c330.chunk.js.map