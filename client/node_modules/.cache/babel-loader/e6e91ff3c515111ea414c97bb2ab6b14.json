{"ast":null,"code":"var _jsxFileName = \"C:\\\\web3\\\\assignment2-web3\\\\comp4513-assignment2\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport HomePage from \"./components/HomePage\";\nimport DefaultPage from \"./components/DefaultPage\";\nimport PlayDetailPage from \"./components/PlayDetailPage\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport loadingGif from './loadingGif/giphy.gif';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [userData, setUserData] = useState(null);\n  const [filteredData, setFilteredData] = useState([]);\n  const [like, setLike] = useState([]);\n  const [currentPlay, setCurrentPlay] = useState([]);\n  const [isLoading, setLoading] = useState(true);\n  const [isChecked, setIsChecked] = useState(false);\n  const [showFavorites, setShowFavorites] = useState(true);\n\n  const updateisLoading = () => {\n    setLoading(false);\n    console.log(isLoading);\n  };\n\n  useEffect(() => {\n    const getUserData = async () => {\n      try {\n        const userUrl = \"http://localhost:8080/user\";\n        const userResponse = await fetch(userUrl);\n        console.log(userResponse);\n        const userData = await userResponse.json();\n        console.log(userData);\n        setUserData(userData);\n        console.log(userData);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    getUserData();\n  }, []);\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        const url = \"https://www.randyconnolly.com//funwebdev/3rd/api/shakespeare/list.php\";\n        const response = await fetch(url);\n        const data = await response.json();\n        localStorage.setItem(\"playData\", JSON.stringify(data));\n        setData(data);\n        updateisLoading();\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    if (localStorage.getItem(\"playData\") == null) {\n      getData();\n    } else {\n      setData(JSON.parse(localStorage.getItem(\"playData\")));\n    } // invoke the async function\n\n  }, [isLoading]); // useEffect(() => {\n  // const getUserData = async () => {\n  //   try {\n  //     const url =  \"http://localhost:8080/user\";\n  //     const response = await fetch(url);\n  //     localStorage.setItem(\"userData\", JSON.stringify(userData));\n  //   } catch(err) {\n  //     console.error(err);\n  //   }\n  // };\n  // if (localStorage.getItem(\"userData\") == null) {\n  //   getUserData();\n  // } else {\n  //   setData(JSON.parse(localStorage.getItem(\"userData\")));\n  // }\n  // });\n\n  const addLikes = play => {\n    let temp = [...like];\n\n    if (!temp.find(e => e.title === play.title)) {\n      temp.push(play);\n      setLike(temp);\n    } else {\n      console.log(\"already in list\");\n    }\n  };\n\n  const removeLikes = play => {\n    const temp = [...like];\n    const index = temp.indexOf(play);\n    temp.splice(index, 1);\n    setLike(temp);\n  };\n\n  const updateCurrentPlay = clickedPlay => {\n    setCurrentPlay(clickedPlay);\n  };\n\n  const updateIsChecked = () => {\n    setIsChecked(!isChecked);\n  };\n\n  const updateFaveBox = () => {\n    setShowFavorites(!showFavorites);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: /*#__PURE__*/_jsxDEV(HashRouter, {\n      basename: \"/\",\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        exact: true,\n        component: HomePage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/home\",\n        exact: true,\n        component: HomePage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/default\",\n        children: /*#__PURE__*/_jsxDEV(DefaultPage, {\n          mainData: data,\n          userData: userData,\n          setFilteredData: setFilteredData,\n          plays: filteredData,\n          likedPlays: like,\n          addToLike: addLikes,\n          removeFromLike: removeLikes,\n          updateCurrent: updateCurrentPlay,\n          current: currentPlay,\n          isChecked: isChecked,\n          updateIsChecked: updateIsChecked,\n          showFavorites: showFavorites,\n          updateFaveBox: updateFaveBox\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/playDetails\",\n        children: /*#__PURE__*/_jsxDEV(PlayDetailPage, {\n          plays: data,\n          likedPlays: like,\n          addToLike: addLikes,\n          removeFromLike: removeLikes,\n          current: currentPlay,\n          updateCurrent: updateCurrentPlay,\n          filters: filteredData,\n          isChecked: isChecked,\n          updateIsChecked: updateIsChecked,\n          showFavorites: showFavorites,\n          updateFaveBox: updateFaveBox\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"QKOauz6QY2/osWEfY8GJ58FUmR8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/web3/assignment2-web3/comp4513-assignment2/client/src/App.js"],"names":["HomePage","DefaultPage","PlayDetailPage","HashRouter","Route","React","useEffect","useState","loadingGif","App","data","setData","userData","setUserData","filteredData","setFilteredData","like","setLike","currentPlay","setCurrentPlay","isLoading","setLoading","isChecked","setIsChecked","showFavorites","setShowFavorites","updateisLoading","console","log","getUserData","userUrl","userResponse","fetch","json","err","error","getData","url","response","localStorage","setItem","JSON","stringify","getItem","parse","addLikes","play","temp","find","e","title","push","removeLikes","index","indexOf","splice","updateCurrentPlay","clickedPlay","updateIsChecked","updateFaveBox"],"mappings":"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","sourcesContent":["import HomePage from \"./components/HomePage\";\r\nimport DefaultPage from \"./components/DefaultPage\";\r\nimport PlayDetailPage from \"./components/PlayDetailPage\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport loadingGif from './loadingGif/giphy.gif';\r\nfunction App() {\r\n  const [data, setData] = useState([]);\r\n  const [userData, setUserData] = useState(null);\r\n  const [filteredData, setFilteredData] = useState([]);\r\n  const [like, setLike] = useState([]);\r\n  const [currentPlay, setCurrentPlay] = useState([]);\r\n  const [isLoading, setLoading] = useState(true);\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  const [showFavorites, setShowFavorites] = useState(true); \r\n\r\n  const updateisLoading = () => { setLoading(false) \r\n  console.log(isLoading);\r\n  \r\n  }\r\n\r\n\r\n  useEffect(() => {\r\nconst getUserData = async () => {\r\ntry {\r\n  const userUrl = \"http://localhost:8080/user\";\r\n  const userResponse = await fetch(userUrl);\r\n  console.log(userResponse);\r\n  const userData = await userResponse.json();\r\n  console.log(userData);\r\n  setUserData(userData);\r\n  console.log(userData);\r\n\r\n} catch (err) {\r\n  console.error(err);\r\n}\r\n}\r\ngetUserData();\r\n\r\n},  []);\r\n \r\n\r\nuseEffect(() => {\r\n  const getData = async () => {\r\n    try {\r\n\r\n      const url =\r\n        \"https://www.randyconnolly.com//funwebdev/3rd/api/shakespeare/list.php\";\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n      localStorage.setItem(\"playData\", JSON.stringify(data));\r\n      setData(data);\r\n\r\n     updateisLoading();\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n \r\n  \r\n  if (localStorage.getItem(\"playData\") == null) {\r\n    getData();\r\n  } else {\r\n    setData(JSON.parse(localStorage.getItem(\"playData\")));\r\n  }\r\n\r\n  // invoke the async function\r\n},  [isLoading]);\r\n\r\n// useEffect(() => {\r\n// const getUserData = async () => {\r\n//   try {\r\n//     const url =  \"http://localhost:8080/user\";\r\n//     const response = await fetch(url);\r\n//     localStorage.setItem(\"userData\", JSON.stringify(userData));\r\n//   } catch(err) {\r\n//     console.error(err);\r\n//   }\r\n// };\r\n// if (localStorage.getItem(\"userData\") == null) {\r\n//   getUserData();\r\n// } else {\r\n//   setData(JSON.parse(localStorage.getItem(\"userData\")));\r\n// }\r\n// });\r\n\r\n  const addLikes = (play) => {\r\n    let temp = [...like];\r\n    if (!temp.find((e) => e.title === play.title)) {\r\n      temp.push(play);\r\n      setLike(temp);\r\n    } else {\r\n      console.log(\"already in list\");\r\n    }\r\n  };\r\n\r\n  const removeLikes = (play) => {\r\n    const temp = [...like];\r\n    const index = temp.indexOf(play);\r\n    temp.splice(index, 1);\r\n    setLike(temp);\r\n  };\r\n\r\n  const updateCurrentPlay = (clickedPlay) => {\r\n    setCurrentPlay(clickedPlay);\r\n    \r\n  };\r\n\r\n\r\n  const updateIsChecked = () => {\r\n    setIsChecked(!isChecked);\r\n  }\r\n\r\n  const updateFaveBox = () => {\r\n    setShowFavorites(!showFavorites);\r\n  }\r\n  \r\n  return (\r\n    <main>\r\n      <HashRouter basename='/'>\r\n      <Route path=\"/\" exact component={HomePage} />\r\n      <Route path=\"/home\" exact component={HomePage}/>\r\n        <Route path=\"/default\">\r\n          \r\n  \r\n\r\n        <DefaultPage\r\n              mainData={data}\r\n              userData={userData}\r\n              setFilteredData={setFilteredData}\r\n              plays={filteredData}\r\n              likedPlays={like}\r\n              addToLike={addLikes}\r\n              removeFromLike={removeLikes}\r\n              updateCurrent={updateCurrentPlay}\r\n              current={currentPlay}\r\n              isChecked={isChecked}\r\n              updateIsChecked={updateIsChecked}\r\n              showFavorites={showFavorites}\r\n              updateFaveBox={updateFaveBox}\r\n\r\n            />\r\n          \r\n        </Route>\r\n      <Route path=\"/playDetails\">\r\n\r\n    \r\n        <PlayDetailPage\r\n          plays={data}\r\n          likedPlays={like}\r\n          addToLike={addLikes}\r\n          removeFromLike={removeLikes}\r\n          current={currentPlay}\r\n          updateCurrent={updateCurrentPlay}\r\n          filters={filteredData}\r\n\r\n          isChecked={isChecked}\r\n          updateIsChecked={updateIsChecked}\r\n\r\n          showFavorites={showFavorites}\r\n          updateFaveBox={updateFaveBox}\r\n        />\r\n  \r\n      </Route>\r\n     </ HashRouter>\r\n    </main>\r\n  );\r\n}\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}