{"ast":null,"code":"var _jsxFileName = \"C:\\\\web3\\\\assignment2-web3\\\\comp4513-assignment2\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport HomePage from \"./components/HomePage\";\nimport DefaultPage from \"./components/DefaultPage\";\nimport PlayDetailPage from \"./components/PlayDetailPage\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport loadingGif from './loadingGif/giphy.gif';\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [userData, setUserData] = useState(null);\n  const [filteredData, setFilteredData] = useState([]);\n  const [like, setLike] = useState([]);\n  const [currentPlay, setCurrentPlay] = useState([]);\n  const [isLoading, setLoading] = useState(true);\n  const [isChecked, setIsChecked] = useState(false);\n  const [showFavorites, setShowFavorites] = useState(true);\n\n  const updateisLoading = () => {\n    setLoading(false);\n    console.log(isLoading);\n  };\n\n  const logout = () => {\n    fetch('http://localhost:8080/logout', {\n      method: 'POST'\n    }).then(response => response.json()).then(result => {\n      console.log('Success:', result);\n    }).catch(error => {\n      console.error('Error:', error);\n    });\n  };\n\n  useEffect(() => {\n    Axios({\n      method: \"GET\",\n      withCredentials: true,\n      url: \"http://localhost:8080/user\"\n    }).then(res => {\n      setUserData(res.data);\n      console.log(res.data);\n    });\n  }, []);\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        const url = \"https://www.randyconnolly.com//funwebdev/3rd/api/shakespeare/list.php\";\n        const response = await fetch(url);\n        const data = await response.json();\n        localStorage.setItem(\"playData\", JSON.stringify(data));\n        setData(data);\n        updateisLoading();\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    if (localStorage.getItem(\"playData\") == null) {\n      getData();\n    } else {\n      setData(JSON.parse(localStorage.getItem(\"playData\")));\n    } // invoke the async function\n\n  }, [isLoading]); // useEffect(() => {\n  // const getUserData = async () => {\n  //   try {\n  //     const url =  \"http://localhost:8080/user\";\n  //     const response = await fetch(url);\n  //     localStorage.setItem(\"userData\", JSON.stringify(userData));\n  //   } catch(err) {\n  //     console.error(err);\n  //   }\n  // };\n  // if (localStorage.getItem(\"userData\") == null) {\n  //   getUserData();\n  // } else {\n  //   setData(JSON.parse(localStorage.getItem(\"userData\")));\n  // }\n  // });\n\n  const addLikes = play => {\n    let temp = [...like];\n\n    if (!temp.find(e => e.title === play.title)) {\n      temp.push(play);\n      setLike(temp);\n    } else {\n      console.log(\"already in list\");\n    }\n  };\n\n  const removeLikes = play => {\n    const temp = [...like];\n    const index = temp.indexOf(play);\n    temp.splice(index, 1);\n    setLike(temp);\n  };\n\n  const updateCurrentPlay = clickedPlay => {\n    setCurrentPlay(clickedPlay);\n  };\n\n  const updateIsChecked = () => {\n    setIsChecked(!isChecked);\n  };\n\n  const updateFaveBox = () => {\n    setShowFavorites(!showFavorites);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: /*#__PURE__*/_jsxDEV(HashRouter, {\n      basename: \"/\",\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        exact: true,\n        component: HomePage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/home\",\n        exact: true,\n        component: HomePage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/default\",\n        children: /*#__PURE__*/_jsxDEV(DefaultPage, {\n          mainData: data,\n          userData: userData,\n          logout: logout,\n          setFilteredData: setFilteredData,\n          plays: filteredData,\n          likedPlays: like,\n          addToLike: addLikes,\n          removeFromLike: removeLikes,\n          updateCurrent: updateCurrentPlay,\n          current: currentPlay,\n          isChecked: isChecked,\n          updateIsChecked: updateIsChecked,\n          showFavorites: showFavorites,\n          updateFaveBox: updateFaveBox\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/playDetails\",\n        children: /*#__PURE__*/_jsxDEV(PlayDetailPage, {\n          plays: data,\n          likedPlays: like,\n          addToLike: addLikes,\n          removeFromLike: removeLikes,\n          current: currentPlay,\n          updateCurrent: updateCurrentPlay,\n          filters: filteredData,\n          isChecked: isChecked,\n          updateIsChecked: updateIsChecked,\n          showFavorites: showFavorites,\n          updateFaveBox: updateFaveBox\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"QKOauz6QY2/osWEfY8GJ58FUmR8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/web3/assignment2-web3/comp4513-assignment2/client/src/App.js"],"names":["HomePage","DefaultPage","PlayDetailPage","HashRouter","Route","React","useEffect","useState","loadingGif","Axios","App","data","setData","userData","setUserData","filteredData","setFilteredData","like","setLike","currentPlay","setCurrentPlay","isLoading","setLoading","isChecked","setIsChecked","showFavorites","setShowFavorites","updateisLoading","console","log","logout","fetch","method","then","response","json","result","catch","error","withCredentials","url","res","getData","localStorage","setItem","JSON","stringify","err","getItem","parse","addLikes","play","temp","find","e","title","push","removeLikes","index","indexOf","splice","updateCurrentPlay","clickedPlay","updateIsChecked","updateFaveBox"],"mappings":"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","sourcesContent":["import HomePage from \"./components/HomePage\";\r\nimport DefaultPage from \"./components/DefaultPage\";\r\nimport PlayDetailPage from \"./components/PlayDetailPage\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport loadingGif from './loadingGif/giphy.gif';\r\nimport Axios from \"axios\";\r\n\r\nfunction App() {\r\n  const [data, setData] = useState([]);\r\n  const [userData, setUserData] = useState(null);\r\n  const [filteredData, setFilteredData] = useState([]);\r\n  const [like, setLike] = useState([]);\r\n  const [currentPlay, setCurrentPlay] = useState([]);\r\n  const [isLoading, setLoading] = useState(true);\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  const [showFavorites, setShowFavorites] = useState(true); \r\n\r\n  const updateisLoading = () => { setLoading(false) \r\n  console.log(isLoading);\r\n  \r\n  }\r\nconst logout = () => {\r\n  fetch('http://localhost:8080/logout', {\r\n    method: 'POST'\r\n  })\r\n  .then(response => response.json())\r\n  .then(result => {\r\n    console.log('Success:', result);\r\n  })\r\n  .catch(error => {\r\n    console.error('Error:', error);\r\n  });\r\n}\r\n\r\n  useEffect(() => {\r\n\r\n    Axios({\r\n      method: \"GET\",\r\n      withCredentials: true,\r\n      url: \"http://localhost:8080/user\",\r\n    }).then((res) => {\r\n      setUserData(res.data);\r\n      console.log(res.data);\r\n    });\r\n\r\n \r\n},  []);\r\n\r\nuseEffect(() => {\r\n  const getData = async () => {\r\n    try {\r\n\r\n      const url =\r\n        \"https://www.randyconnolly.com//funwebdev/3rd/api/shakespeare/list.php\";\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n      localStorage.setItem(\"playData\", JSON.stringify(data));\r\n      setData(data);\r\n\r\n     updateisLoading();\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n \r\n  \r\n  if (localStorage.getItem(\"playData\") == null) {\r\n    getData();\r\n  } else {\r\n    setData(JSON.parse(localStorage.getItem(\"playData\")));\r\n  }\r\n\r\n  // invoke the async function\r\n},  [isLoading]);\r\n\r\n// useEffect(() => {\r\n// const getUserData = async () => {\r\n//   try {\r\n//     const url =  \"http://localhost:8080/user\";\r\n//     const response = await fetch(url);\r\n//     localStorage.setItem(\"userData\", JSON.stringify(userData));\r\n//   } catch(err) {\r\n//     console.error(err);\r\n//   }\r\n// };\r\n// if (localStorage.getItem(\"userData\") == null) {\r\n//   getUserData();\r\n// } else {\r\n//   setData(JSON.parse(localStorage.getItem(\"userData\")));\r\n// }\r\n// });\r\n\r\n  const addLikes = (play) => {\r\n    let temp = [...like];\r\n    if (!temp.find((e) => e.title === play.title)) {\r\n      temp.push(play);\r\n      setLike(temp);\r\n    } else {\r\n      console.log(\"already in list\");\r\n    }\r\n  };\r\n\r\n  const removeLikes = (play) => {\r\n    const temp = [...like];\r\n    const index = temp.indexOf(play);\r\n    temp.splice(index, 1);\r\n    setLike(temp);\r\n  };\r\n\r\n  const updateCurrentPlay = (clickedPlay) => {\r\n    setCurrentPlay(clickedPlay);\r\n    \r\n  };\r\n\r\n\r\n  const updateIsChecked = () => {\r\n    setIsChecked(!isChecked);\r\n  }\r\n\r\n  const updateFaveBox = () => {\r\n    setShowFavorites(!showFavorites);\r\n  }\r\n  \r\n  return (\r\n    <main>\r\n      <HashRouter basename='/'>\r\n      <Route path=\"/\" exact component={HomePage} />\r\n      <Route path=\"/home\" exact component={HomePage}/>\r\n        <Route path=\"/default\">\r\n          \r\n  \r\n\r\n        <DefaultPage\r\n              mainData={data}\r\n              userData={userData}\r\n              logout={logout}\r\n              setFilteredData={setFilteredData}\r\n              plays={filteredData}\r\n              likedPlays={like}\r\n              addToLike={addLikes}\r\n              removeFromLike={removeLikes}\r\n              updateCurrent={updateCurrentPlay}\r\n              current={currentPlay}\r\n              isChecked={isChecked}\r\n              updateIsChecked={updateIsChecked}\r\n              showFavorites={showFavorites}\r\n              updateFaveBox={updateFaveBox}\r\n\r\n            />\r\n          \r\n        </Route>\r\n      <Route path=\"/playDetails\">\r\n\r\n    \r\n        <PlayDetailPage\r\n          plays={data}\r\n          likedPlays={like}\r\n          addToLike={addLikes}\r\n          removeFromLike={removeLikes}\r\n          current={currentPlay}\r\n          updateCurrent={updateCurrentPlay}\r\n          filters={filteredData}\r\n\r\n          isChecked={isChecked}\r\n          updateIsChecked={updateIsChecked}\r\n\r\n          showFavorites={showFavorites}\r\n          updateFaveBox={updateFaveBox}\r\n        />\r\n  \r\n      </Route>\r\n     </ HashRouter>\r\n    </main>\r\n  );\r\n}\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}