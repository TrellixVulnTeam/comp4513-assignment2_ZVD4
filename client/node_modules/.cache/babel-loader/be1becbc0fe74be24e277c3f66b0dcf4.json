{"ast":null,"code":"var _jsxFileName = \"C:\\\\web3\\\\assignment2-web3\\\\comp4513-assignment2\\\\client\\\\src\\\\components\\\\PlayDetailPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport HeaderBar from \"./HeaderBar\";\nimport FavoriteBoxDetails from \"./FavoritesBoxDetails\";\nimport Tabs from \"./TabComponent/Tabs\";\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport \"../App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PlayDetailPage = props => {\n  _s();\n\n  const [tab, setTab] = useState(\"Details\");\n  const [currentAct, setCurrentAct] = useState(\"ACT I\");\n  const [currentScene, setCurrentScene] = useState(\"SCENE I\");\n  const [currentSpeaker, setCurrentSpeaker] = useState(\"\");\n  const [highlightedWord, setHighlightedWord] = useState(\"\");\n  const location = useLocation();\n\n  const tabIsText = tab => {\n    setTab(tab);\n  };\n\n  const updateTabThroughClick = () => {\n    setTab(\"Details\");\n  };\n\n  const handleCurrentAct = e => {\n    console.log(e.target.value);\n    setCurrentAct(e.target.value);\n  };\n\n  const handleCurrentScene = e => {\n    console.log(e.target.value);\n    setCurrentScene(e.target.value);\n  };\n\n  const handleCurrentSpeaker = e => {\n    if (e.target.value !== \"\" && e.target.value !== \"clear\") {\n      console.log(e.target.value);\n      setCurrentSpeaker(e.target.value);\n    } else if (e.target.value === \"clear\") {\n      setCurrentSpeaker(\"\");\n      console.log(\"Search is cleared -->\" + e.target.value);\n    }\n  };\n\n  const addToLike = () => {\n    props.addToLike(props.current);\n  };\n\n  const handleHighlightedWord = e => {\n    console.log(e.target.value);\n    setHighlightedWord(e.target.value);\n  };\n\n  useEffect(props => {\n    const getInfo = async () => {\n      try {\n        const url = \"https://www.randyconnolly.com/funwebdev/3rd/api/shakespeare/play.php?name=\" + props.current.id;\n        const response = await fetch(url);\n        const data = await response.json();\n        localStorage.setItem(\"playInfo\", JSON.stringify(data));\n      } catch (err) {\n        console.error(err);\n      }\n    }; // invoke the async function\n\n\n    getInfo();\n  }, []);\n\n  const updateBoxForFave = () => {\n    props.updateFaveBox();\n    props.updateIsChecked();\n  };\n\n  if (tab === \"Text\") {\n    let i = [];\n    i.push(JSON.parse(localStorage.getItem(\"playInfo\")));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"playDetailsPage\",\n      children: [/*#__PURE__*/_jsxDEV(HeaderBar, {\n        userData: location.state.userInfo.userData,\n        logout: location.state.userInfo.logout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"playDetailsBox\",\n        children: [props.showFavorites && props.isChecked === false ? /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"detailsFavoriteList\",\n          children: /*#__PURE__*/_jsxDEV(FavoriteBoxDetails, {\n            plays: props.likedPlays,\n            removeFromLike: props.removeFromLike,\n            updateCurrent: props.updateCurrent,\n            updateTab: updateTabThroughClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"hiddenFaveBox\",\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"playTitleBox\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"checkAndTitle\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"checkBoxDiv\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                className: \"checkboxFave\",\n                onChange: updateBoxForFave\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              id: \"playTitle\",\n              children: props.current.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"formBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"form\", {\n              id: \"textFilterBox\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"act\",\n                id: \"act\",\n                onChange: handleCurrentAct,\n                children: i[0].acts.map(a => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: a.name,\n                    children: [\" \", a.name, \" \"]\n                  }, a.name, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"scene\",\n                id: \"scene\",\n                onChange: handleCurrentScene,\n                children: i[0].acts.map(act => {\n                  if (act.name === currentAct) {\n                    return act.scenes.map(s => {\n                      return /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: s.name,\n                        children: [\" \", s.name, \" \"]\n                      }, s.name, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 135,\n                        columnNumber: 27\n                      }, this);\n                    });\n                  }\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"playerSearch\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"speaker\",\n                id: \"speaker\",\n                onChange: handleCurrentSpeaker,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \" Choose Player Here \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 19\n                }, this), i[0].persona.map(p => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: p.player,\n                    children: [\" \", p.player, \" \"]\n                  }, p.player, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 23\n                  }, this);\n                }), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"clear\",\n                  children: \" CLEAR SEARCH \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"highlightedWord\",\n                type: \"text\",\n                name: \"name\",\n                onChange: handleHighlightedWord\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"textPlayDetailsButtons\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: \"/default\",\n                state: {\n                  filters: props.filters\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                id: \"closeButton\",\n                children: [\" \", \"Close\", \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addToLike,\n              id: \"likeButton\",\n              children: [\" \", \"\\u2764\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"tabsBox\",\n          children: /*#__PURE__*/_jsxDEV(Tabs, {\n            current: props.current,\n            tab: tab,\n            tabIsText: tabIsText,\n            currentAct: currentAct,\n            currentScene: currentScene,\n            currentSpeaker: currentSpeaker,\n            highlightedWord: highlightedWord\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"playDetailsPage\",\n      children: [/*#__PURE__*/_jsxDEV(HeaderBar, {\n        userData: location.state.userInfo.userData,\n        logout: location.state.userInfo.logout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"playDetailsBox\",\n        children: [props.showFavorites && props.isChecked === false ? /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"detailsFavoriteList\",\n          children: /*#__PURE__*/_jsxDEV(FavoriteBoxDetails, {\n            plays: props.likedPlays,\n            removeFromLike: props.removeFromLike,\n            updateCurrent: props.updateCurrent,\n            updateTab: updateTabThroughClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"hiddenFaveBox\",\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"playTitleBox\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"checkAndTitle\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"checkBoxDiv\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                className: \"checkboxFave\",\n                onChange: updateBoxForFave\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              id: \"playTitle\",\n              children: props.current.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"playSummaryBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"synopsisBox\",\n              children: props.current.synopsis\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"playDetailsButtons\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: {\n                  pathname: \"/default\",\n                  state: {\n                    filters: props.filters\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  id: \"closeButton\",\n                  children: [\" \", \"Close\", \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: addToLike,\n                id: \"likeButton\",\n                children: [\" \", \"\\u2764\", \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"tabsBox\",\n          children: /*#__PURE__*/_jsxDEV(Tabs, {\n            current: props.current,\n            tab: tab,\n            tabIsText: tabIsText,\n            currentAct: currentAct,\n            currentScene: currentScene,\n            currentSpeaker: currentSpeaker,\n            highlightedWord: highlightedWord\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(PlayDetailPage, \"YwdGmQ8iuJ9sNt3stWrODXybkP0=\", false, function () {\n  return [useLocation];\n});\n\n_c = PlayDetailPage;\nexport default PlayDetailPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlayDetailPage\");","map":{"version":3,"sources":["C:/web3/assignment2-web3/comp4513-assignment2/client/src/components/PlayDetailPage.jsx"],"names":["React","useEffect","useState","HeaderBar","FavoriteBoxDetails","Tabs","Link","useLocation","PlayDetailPage","props","tab","setTab","currentAct","setCurrentAct","currentScene","setCurrentScene","currentSpeaker","setCurrentSpeaker","highlightedWord","setHighlightedWord","location","tabIsText","updateTabThroughClick","handleCurrentAct","e","console","log","target","value","handleCurrentScene","handleCurrentSpeaker","addToLike","current","handleHighlightedWord","getInfo","url","id","response","fetch","data","json","localStorage","setItem","JSON","stringify","err","error","updateBoxForFave","updateFaveBox","updateIsChecked","i","push","parse","getItem","state","userInfo","userData","logout","showFavorites","isChecked","likedPlays","removeFromLike","updateCurrent","title","acts","map","a","name","act","scenes","s","persona","p","player","pathname","filters","synopsis"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport HeaderBar from \"./HeaderBar\";\r\nimport FavoriteBoxDetails from \"./FavoritesBoxDetails\";\r\nimport Tabs from \"./TabComponent/Tabs\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport \"../App.css\";\r\n\r\nconst PlayDetailPage = (props) => {\r\n  const [tab, setTab] = useState(\"Details\");\r\n  const [currentAct, setCurrentAct] = useState(\"ACT I\");\r\n  const [currentScene, setCurrentScene] = useState(\"SCENE I\");\r\n  const [currentSpeaker, setCurrentSpeaker] = useState(\"\");\r\n  const [highlightedWord, setHighlightedWord] = useState(\"\");\r\n\r\n  const location = useLocation();\r\n\r\n  const tabIsText = (tab) => {\r\n    setTab(tab);\r\n  };\r\n\r\n  const updateTabThroughClick = () => {\r\n    setTab(\"Details\");\r\n  };\r\n\r\n  const handleCurrentAct = (e) => {\r\n    console.log(e.target.value);\r\n    setCurrentAct(e.target.value);\r\n  };\r\n\r\n  const handleCurrentScene = (e) => {\r\n    console.log(e.target.value);\r\n    setCurrentScene(e.target.value);\r\n  };\r\n\r\n  const handleCurrentSpeaker = (e) => {\r\n    if (e.target.value !== \"\" && e.target.value !== \"clear\") {\r\n      console.log(e.target.value);\r\n      setCurrentSpeaker(e.target.value);\r\n    } else if (e.target.value === \"clear\") {\r\n      setCurrentSpeaker(\"\");\r\n      console.log(\"Search is cleared -->\" + e.target.value);\r\n    }\r\n  };\r\n\r\n  const addToLike = () => {\r\n    props.addToLike(props.current);\r\n  };\r\n\r\n  const handleHighlightedWord = (e) => {\r\n    console.log(e.target.value);\r\n    setHighlightedWord(e.target.value);\r\n  };\r\n\r\n  useEffect((props) => {\r\n    const getInfo = async () => {\r\n      try {\r\n        const url =\r\n          \"https://www.randyconnolly.com/funwebdev/3rd/api/shakespeare/play.php?name=\" +\r\n          props.current.id;\r\n        const response = await fetch(url);\r\n        const data = await response.json();\r\n        localStorage.setItem(\"playInfo\", JSON.stringify(data));\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    // invoke the async function\r\n    getInfo();\r\n  }, []);\r\n\r\n  const updateBoxForFave = () => {\r\n    props.updateFaveBox();\r\n    props.updateIsChecked();\r\n  };\r\n\r\n  if (tab === \"Text\") {\r\n    let i = [];\r\n    i.push(JSON.parse(localStorage.getItem(\"playInfo\")));\r\n\r\n    return (\r\n      <div className=\"playDetailsPage\">\r\n        <HeaderBar userData = {location.state.userInfo.userData} logout = {location.state.userInfo.logout}/> \r\n\r\n        <div id=\"playDetailsBox\">\r\n          {props.showFavorites && props.isChecked === false ? (\r\n            <div id=\"detailsFavoriteList\">\r\n              <FavoriteBoxDetails\r\n                plays={props.likedPlays}\r\n                removeFromLike={props.removeFromLike}\r\n                updateCurrent={props.updateCurrent}\r\n                updateTab={updateTabThroughClick}\r\n              />\r\n            </div>\r\n          ) : (\r\n            <div id=\"hiddenFaveBox\"> </div>\r\n          )}\r\n\r\n          <div id=\"playTitleBox\">\r\n            <div id=\"checkAndTitle\">\r\n              <div id=\"checkBoxDiv\">\r\n                {\" \"}\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"checkboxFave\"\r\n                  onChange={updateBoxForFave}\r\n                />{\" \"}\r\n              </div>\r\n              <h1 id=\"playTitle\">{props.current.title}</h1>\r\n            </div>\r\n\r\n            <hr></hr>\r\n\r\n            <div id=\"formBox\">\r\n              <form id=\"textFilterBox\">\r\n                {/* This handles the act filter and adds current act*/}\r\n\r\n                <select name=\"act\" id=\"act\" onChange={handleCurrentAct}>\r\n                  {i[0].acts.map((a) => {\r\n                    return (\r\n                      <option value={a.name} key={a.name}>\r\n                        {\" \"}\r\n                        {a.name}{\" \"}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </select>\r\n\r\n                {/* This handles the scene filter corresponding to the act*/}\r\n                <select name=\"scene\" id=\"scene\" onChange={handleCurrentScene}>\r\n                  {i[0].acts.map((act) => {\r\n                    if (act.name === currentAct) {\r\n                      return act.scenes.map((s) => {\r\n                        return (\r\n                          <option value={s.name} key={s.name}>\r\n                            {\" \"}\r\n                            {s.name}{\" \"}\r\n                          </option>\r\n                        );\r\n                      });\r\n                    }\r\n                  })}\r\n                </select>\r\n              </form>\r\n\r\n              <form className=\"playerSearch\">\r\n                {/* This handles the word filter corresponding to the speaker*/}\r\n                <select\r\n                  name=\"speaker\"\r\n                  id=\"speaker\"\r\n                  onChange={handleCurrentSpeaker}\r\n                >\r\n                  <option value=\"\"> Choose Player Here </option>\r\n                  {i[0].persona.map((p) => {\r\n                    return (\r\n                      <option value={p.player} key={p.player}>\r\n                        {\" \"}\r\n                        {p.player}{\" \"}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                  <option value=\"clear\"> CLEAR SEARCH </option>\r\n                </select>\r\n                <br />\r\n                <input\r\n                  id=\"highlightedWord\"\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  onChange={handleHighlightedWord}\r\n                />\r\n              </form>\r\n            </div>\r\n            <div id=\"textPlayDetailsButtons\">\r\n              <Link\r\n                to={{ pathname: \"/default\", state: { filters: props.filters } }}\r\n              >\r\n                <button type=\"button\" id=\"closeButton\">\r\n                  {\" \"}\r\n                  Close{\" \"}\r\n                </button>\r\n              </Link>\r\n              <button onClick={addToLike} id=\"likeButton\">\r\n                {\" \"}\r\n                ❤{\" \"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"tabsBox\">\r\n            <Tabs\r\n              current={props.current}\r\n              tab={tab}\r\n              tabIsText={tabIsText}\r\n              currentAct={currentAct}\r\n              currentScene={currentScene}\r\n              currentSpeaker={currentSpeaker}\r\n              highlightedWord={highlightedWord}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className=\"playDetailsPage\">\r\n        <HeaderBar userData = {location.state.userInfo.userData} logout = {location.state.userInfo.logout}/> \r\n\r\n        <div id=\"playDetailsBox\">\r\n          {props.showFavorites && props.isChecked === false ? (\r\n            <div id=\"detailsFavoriteList\">\r\n              <FavoriteBoxDetails\r\n                plays={props.likedPlays}\r\n                removeFromLike={props.removeFromLike}\r\n                updateCurrent={props.updateCurrent}\r\n                updateTab={updateTabThroughClick}\r\n              />\r\n            </div>\r\n          ) : (\r\n            <div id=\"hiddenFaveBox\"> </div>\r\n          )}\r\n\r\n          <div id=\"playTitleBox\">\r\n            <div id=\"checkAndTitle\">\r\n              <div id=\"checkBoxDiv\">\r\n                {\" \"}\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"checkboxFave\"\r\n                  onChange={updateBoxForFave}\r\n                />{\" \"}\r\n              </div>\r\n              <h1 id=\"playTitle\">{props.current.title}</h1>\r\n            </div>\r\n            <hr></hr>\r\n            <div id=\"playSummaryBox\">\r\n              <div id=\"synopsisBox\">{props.current.synopsis}</div>\r\n\r\n              <div id=\"playDetailsButtons\">\r\n                <Link\r\n                  to={{\r\n                    pathname: \"/default\",\r\n                    state: { filters: props.filters },\r\n                  }}\r\n                >\r\n                  <button type=\"button\" id=\"closeButton\">\r\n                    {\" \"}\r\n                    Close{\" \"}\r\n                  </button>\r\n                </Link>\r\n                <button onClick={addToLike} id=\"likeButton\">\r\n                  {\" \"}\r\n                  ❤{\" \"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"tabsBox\">\r\n            <Tabs\r\n              current={props.current}\r\n              tab={tab}\r\n              tabIsText={tabIsText}\r\n              currentAct={currentAct}\r\n              currentScene={currentScene}\r\n              currentSpeaker={currentSpeaker}\r\n              highlightedWord={highlightedWord}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default PlayDetailPage;\r\n"]},"metadata":{},"sourceType":"module"}