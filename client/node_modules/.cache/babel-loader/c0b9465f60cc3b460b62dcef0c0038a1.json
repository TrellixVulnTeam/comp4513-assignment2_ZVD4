{"ast":null,"code":"var _jsxFileName = \"C:\\\\web3\\\\assignment2-web3\\\\comp4513-assignment2\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport HomePage from \"./components/HomePage\";\nimport DefaultPage from \"./components/DefaultPage\";\nimport PlayDetailPage from \"./components/PlayDetailPage\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [userData, setUserData] = useState(null);\n  const [filteredData, setFilteredData] = useState([]);\n  const [like, setLike] = useState([]);\n  const [currentPlay, setCurrentPlay] = useState([]);\n  const [isChecked, setIsChecked] = useState(false);\n  const [showFavorites, setShowFavorites] = useState(true);\n\n  const logout = () => {\n    window.location.assign('https://comp4513-assignment2.herokuapp.com/logout');\n  };\n\n  useEffect(() => {\n    Axios({\n      method: \"GET\",\n      withCredentials: true,\n      url: \"https://comp4513-assignment2.herokuapp.com/user\"\n    }).then(res => {\n      setUserData(res.data);\n      console.log(res.data);\n    });\n  }, []); //http://localhost:8080/user\n  // const populateAllPlays = () => {\n  //   Axios({\n  //     method: \"GET\",\n  //     withCredentials: true,\n  //     url: \"http://localhost:8080/api/list\",\n  //   }).then((res) => {\n  //     console.log(res.data);\n  //     localStorage.setItem(\"playData\", JSON.stringify(res.data));\n  //     setData(res.data);\n  //     console.log(res.data);\n  //   });  \n  // }\n\n  useEffect(() => {\n    Axios({\n      method: \"GET\",\n      withCredentials: true,\n      url: \"https://comp4513-assignment2.herokuapp.com/api/list\"\n    }).then(res => {\n      console.log(res.data);\n      localStorage.setItem(\"playData\", JSON.stringify(res.data));\n      setData(res.data);\n      console.log(res.data);\n    });\n\n    if (localStorage.getItem(\"playData\") == null) {// populateAllPlays();\n    } else {\n      setData(JSON.parse(localStorage.getItem(\"playData\")));\n    } // invoke the async function\n\n  }, []); // useEffect(() => {\n  // const getUserData = async () => {\n  //   try {\n  //     const url =  \"http://localhost:8080/user\";\n  //     const response = await fetch(url);\n  //     localStorage.setItem(\"userData\", JSON.stringify(userData));\n  //   } catch(err) {\n  //     console.error(err);\n  //   }\n  // };\n  // if (localStorage.getItem(\"userData\") == null) {\n  //   getUserData();\n  // } else {\n  //   setData(JSON.parse(localStorage.getItem(\"userData\")));\n  // }\n  // });\n\n  const addLikes = play => {\n    let temp = [...like];\n\n    if (!temp.find(e => e.title === play.title)) {\n      temp.push(play);\n      setLike(temp);\n    } else {\n      console.log(\"already in list\");\n    }\n  };\n\n  const removeLikes = play => {\n    const temp = [...like];\n    const index = temp.indexOf(play);\n    temp.splice(index, 1);\n    setLike(temp);\n  };\n\n  const updateCurrentPlay = clickedPlay => {\n    setCurrentPlay(clickedPlay);\n  };\n\n  const updateIsChecked = () => {\n    setIsChecked(!isChecked);\n  };\n\n  const updateFaveBox = () => {\n    setShowFavorites(!showFavorites);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      basename: \"/\",\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        exact: true,\n        component: HomePage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/home\",\n        exact: true,\n        component: HomePage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/default\",\n        children: /*#__PURE__*/_jsxDEV(DefaultPage, {\n          mainData: data,\n          userData: userData,\n          logout: logout,\n          setFilteredData: setFilteredData,\n          plays: filteredData,\n          likedPlays: like,\n          addToLike: addLikes,\n          removeFromLike: removeLikes,\n          updateCurrent: updateCurrentPlay,\n          current: currentPlay,\n          isChecked: isChecked,\n          updateIsChecked: updateIsChecked,\n          showFavorites: showFavorites,\n          updateFaveBox: updateFaveBox\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/playDetails\",\n        children: /*#__PURE__*/_jsxDEV(PlayDetailPage, {\n          plays: data,\n          likedPlays: like,\n          addToLike: addLikes,\n          removeFromLike: removeLikes,\n          current: currentPlay,\n          updateCurrent: updateCurrentPlay,\n          filters: filteredData,\n          isChecked: isChecked,\n          updateIsChecked: updateIsChecked,\n          showFavorites: showFavorites,\n          updateFaveBox: updateFaveBox\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"6hVt64E4W7F1TkVHRbG7gSi5fw0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/web3/assignment2-web3/comp4513-assignment2/client/src/App.js"],"names":["HomePage","DefaultPage","PlayDetailPage","BrowserRouter","Route","React","useEffect","useState","Axios","App","data","setData","userData","setUserData","filteredData","setFilteredData","like","setLike","currentPlay","setCurrentPlay","isChecked","setIsChecked","showFavorites","setShowFavorites","logout","window","location","assign","method","withCredentials","url","then","res","console","log","localStorage","setItem","JSON","stringify","getItem","parse","addLikes","play","temp","find","e","title","push","removeLikes","index","indexOf","splice","updateCurrentPlay","clickedPlay","updateIsChecked","updateFaveBox"],"mappings":"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","sourcesContent":["import HomePage from \"./components/HomePage\";\r\nimport DefaultPage from \"./components/DefaultPage\";\r\nimport PlayDetailPage from \"./components/PlayDetailPage\";\r\nimport { BrowserRouter, Route } from \"react-router-dom\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Axios from \"axios\";\r\n\r\nfunction App() {\r\n  const [data, setData] = useState([]);\r\n  const [userData, setUserData] = useState(null);\r\n  const [filteredData, setFilteredData] = useState([]);\r\n  const [like, setLike] = useState([]);\r\n  const [currentPlay, setCurrentPlay] = useState([]);\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  const [showFavorites, setShowFavorites] = useState(true); \r\n\r\n\r\nconst logout = () => {\r\n  window.location.assign('https://comp4513-assignment2.herokuapp.com/logout');\r\n}\r\n\r\n  useEffect(() => {\r\n\r\n    Axios({\r\n      method: \"GET\",\r\n      withCredentials: true,\r\n      url: \"https://comp4513-assignment2.herokuapp.com/user\",\r\n    }).then((res) => {\r\n      setUserData(res.data);\r\n      console.log(res.data);\r\n    });\r\n\r\n \r\n},  []);\r\n\r\n//http://localhost:8080/user\r\n\r\n// const populateAllPlays = () => {\r\n//   Axios({\r\n//     method: \"GET\",\r\n//     withCredentials: true,\r\n//     url: \"http://localhost:8080/api/list\",\r\n//   }).then((res) => {\r\n//     console.log(res.data);\r\n//     localStorage.setItem(\"playData\", JSON.stringify(res.data));\r\n//     setData(res.data);\r\n//     console.log(res.data);\r\n//   });  \r\n// }\r\n\r\nuseEffect(() => {\r\n\r\n\r\n  Axios({\r\n    method: \"GET\",\r\n    withCredentials: true,\r\n    url: \"https://comp4513-assignment2.herokuapp.com/api/list\",\r\n  }).then((res) => {\r\n    console.log(res.data);\r\n    localStorage.setItem(\"playData\", JSON.stringify(res.data));\r\n    setData(res.data);\r\n    console.log(res.data);\r\n  });  \r\n\r\n  if (localStorage.getItem(\"playData\") == null) {\r\n    // populateAllPlays();\r\n  } else {\r\n    setData(JSON.parse(localStorage.getItem(\"playData\")));\r\n  }\r\n\r\n  // invoke the async function\r\n},  []);\r\n\r\n// useEffect(() => {\r\n// const getUserData = async () => {\r\n//   try {\r\n//     const url =  \"http://localhost:8080/user\";\r\n//     const response = await fetch(url);\r\n//     localStorage.setItem(\"userData\", JSON.stringify(userData));\r\n//   } catch(err) {\r\n//     console.error(err);\r\n//   }\r\n// };\r\n// if (localStorage.getItem(\"userData\") == null) {\r\n//   getUserData();\r\n// } else {\r\n//   setData(JSON.parse(localStorage.getItem(\"userData\")));\r\n// }\r\n// });\r\n\r\n  const addLikes = (play) => {\r\n    let temp = [...like];\r\n    if (!temp.find((e) => e.title === play.title)) {\r\n      temp.push(play);\r\n      setLike(temp);\r\n    } else {\r\n      console.log(\"already in list\");\r\n    }\r\n  };\r\n\r\n  const removeLikes = (play) => {\r\n    const temp = [...like];\r\n    const index = temp.indexOf(play);\r\n    temp.splice(index, 1);\r\n    setLike(temp);\r\n  };\r\n\r\n  const updateCurrentPlay = (clickedPlay) => {\r\n    setCurrentPlay(clickedPlay);\r\n    \r\n  };\r\n\r\n\r\n  const updateIsChecked = () => {\r\n    setIsChecked(!isChecked);\r\n  }\r\n\r\n  const updateFaveBox = () => {\r\n    setShowFavorites(!showFavorites);\r\n  }\r\n  \r\n  return (\r\n    <main>\r\n      <BrowserRouter basename='/'>\r\n      <Route path=\"/\" exact component={HomePage} />\r\n      <Route path=\"/home\" exact component={HomePage}/>\r\n        <Route path=\"/default\">\r\n          \r\n  \r\n\r\n        <DefaultPage\r\n              mainData={data}\r\n              userData={userData}\r\n              logout={logout}\r\n              setFilteredData={setFilteredData}\r\n              plays={filteredData}\r\n              likedPlays={like}\r\n              addToLike={addLikes}\r\n              removeFromLike={removeLikes}\r\n              updateCurrent={updateCurrentPlay}\r\n              current={currentPlay}\r\n              isChecked={isChecked}\r\n              updateIsChecked={updateIsChecked}\r\n              showFavorites={showFavorites}\r\n              updateFaveBox={updateFaveBox}\r\n\r\n            />\r\n          \r\n        </Route>\r\n      <Route path=\"/playDetails\">\r\n\r\n    \r\n        <PlayDetailPage\r\n          plays={data}\r\n          likedPlays={like}\r\n          addToLike={addLikes}\r\n          removeFromLike={removeLikes}\r\n          current={currentPlay}\r\n          updateCurrent={updateCurrentPlay}\r\n          filters={filteredData}\r\n\r\n          isChecked={isChecked}\r\n          updateIsChecked={updateIsChecked}\r\n\r\n          showFavorites={showFavorites}\r\n          updateFaveBox={updateFaveBox}\r\n        />\r\n  \r\n      </Route>\r\n     </ BrowserRouter>\r\n    </main>\r\n  );\r\n}\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}