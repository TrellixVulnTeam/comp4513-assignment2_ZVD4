{"ast":null,"code":"var _jsxFileName = \"C:\\\\web3\\\\assignment2-web3\\\\comp4513-assignment2\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport HomePage from \"./components/HomePage\";\nimport DefaultPage from \"./components/DefaultPage\";\nimport PlayDetailPage from \"./components/PlayDetailPage\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [userData, setUserData] = useState(null);\n  const [filteredData, setFilteredData] = useState([]);\n  const [like, setLike] = useState([]);\n  const [currentPlay, setCurrentPlay] = useState([]);\n  const [isChecked, setIsChecked] = useState(false);\n  const [showFavorites, setShowFavorites] = useState(true);\n\n  const logout = () => {\n    window.location.assign('http://comp4513-assignment2.herokuapp.com/logout');\n  };\n\n  useEffect(() => {\n    Axios({\n      method: \"GET\",\n      withCredentials: true,\n      url: \"http://comp4513-assignment2.herokuapp.com/user\"\n    }).then(res => {\n      setUserData(res.data);\n    });\n    console.log(userData);\n  }, []);\n\n  const populateAllPlays = () => {\n    Axios({\n      method: \"GET\",\n      withCredentials: true,\n      url: \"http://comp4513-assignment2.herokuapp.com/api/list\"\n    }).then(res => {\n      console.log(res.data);\n      localStorage.setItem(\"playData\", JSON.stringify(res.data));\n      setData(res.data);\n    });\n  };\n\n  useEffect(() => {\n    populateAllPlays();\n\n    if (localStorage.getItem(\"playData\") == null) {\n      populateAllPlays();\n    } else {\n      setData(JSON.parse(localStorage.getItem(\"playData\")));\n    }\n  }, []);\n\n  const addLikes = play => {\n    let temp = [...like];\n\n    if (!temp.find(e => e.title === play.title)) {\n      temp.push(play);\n      setLike(temp);\n    } else {\n      console.log(\"already in list\");\n    }\n  };\n\n  const removeLikes = play => {\n    const temp = [...like];\n    const index = temp.indexOf(play);\n    temp.splice(index, 1);\n    setLike(temp);\n  };\n\n  const updateCurrentPlay = clickedPlay => {\n    setCurrentPlay(clickedPlay);\n  };\n\n  const updateIsChecked = () => {\n    setIsChecked(!isChecked);\n  };\n\n  const updateFaveBox = () => {\n    setShowFavorites(!showFavorites);\n  };\n\n  console.log(userData);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: /*#__PURE__*/_jsxDEV(HashRouter, {\n      basename: \"/\",\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        exact: true,\n        component: HomePage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/home\",\n        exact: true,\n        component: HomePage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/default\",\n        children: /*#__PURE__*/_jsxDEV(DefaultPage, {\n          mainData: data,\n          userData: userData,\n          logout: logout,\n          setFilteredData: setFilteredData,\n          plays: filteredData,\n          likedPlays: like,\n          addToLike: addLikes,\n          removeFromLike: removeLikes,\n          updateCurrent: updateCurrentPlay,\n          current: currentPlay,\n          isChecked: isChecked,\n          updateIsChecked: updateIsChecked,\n          showFavorites: showFavorites,\n          updateFaveBox: updateFaveBox\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/playDetails\",\n        children: /*#__PURE__*/_jsxDEV(PlayDetailPage, {\n          plays: data,\n          likedPlays: like,\n          addToLike: addLikes,\n          removeFromLike: removeLikes,\n          current: currentPlay,\n          updateCurrent: updateCurrentPlay,\n          filters: filteredData,\n          isChecked: isChecked,\n          updateIsChecked: updateIsChecked,\n          showFavorites: showFavorites,\n          updateFaveBox: updateFaveBox\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"6hVt64E4W7F1TkVHRbG7gSi5fw0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/web3/assignment2-web3/comp4513-assignment2/client/src/App.js"],"names":["HomePage","DefaultPage","PlayDetailPage","HashRouter","Route","React","useEffect","useState","Axios","App","data","setData","userData","setUserData","filteredData","setFilteredData","like","setLike","currentPlay","setCurrentPlay","isChecked","setIsChecked","showFavorites","setShowFavorites","logout","window","location","assign","method","withCredentials","url","then","res","console","log","populateAllPlays","localStorage","setItem","JSON","stringify","getItem","parse","addLikes","play","temp","find","e","title","push","removeLikes","index","indexOf","splice","updateCurrentPlay","clickedPlay","updateIsChecked","updateFaveBox"],"mappings":"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","sourcesContent":["import HomePage from \"./components/HomePage\";\r\nimport DefaultPage from \"./components/DefaultPage\";\r\nimport PlayDetailPage from \"./components/PlayDetailPage\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Axios from \"axios\";\r\n\r\nfunction App() {\r\n  const [data, setData] = useState([]);\r\n  const [userData, setUserData] = useState(null);\r\n  const [filteredData, setFilteredData] = useState([]);\r\n  const [like, setLike] = useState([]);\r\n  const [currentPlay, setCurrentPlay] = useState([]);\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  const [showFavorites, setShowFavorites] = useState(true); \r\n\r\n\r\nconst logout = () => {\r\n  window.location.assign('http://comp4513-assignment2.herokuapp.com/logout');\r\n}\r\n\r\n  useEffect(() => {\r\n\r\n    Axios({\r\n      method: \"GET\",\r\n      withCredentials: true,\r\n      url: \"http://comp4513-assignment2.herokuapp.com/user\",\r\n    }).then((res) => {\r\n      setUserData(res.data);\r\n    });\r\nconsole.log(userData);\r\n \r\n},  []);\r\n\r\nconst populateAllPlays = () => {\r\n  Axios({\r\n    method: \"GET\",\r\n    withCredentials: true,\r\n    url: \"http://comp4513-assignment2.herokuapp.com/api/list\",\r\n  }).then((res) => {\r\n    console.log(res.data);\r\n    localStorage.setItem(\"playData\", JSON.stringify(res.data));\r\n    setData(res.data);\r\n  });  \r\n}\r\n\r\nuseEffect(() => {\r\n\r\n\r\n  populateAllPlays();\r\n\r\n  if (localStorage.getItem(\"playData\") == null) {\r\n    populateAllPlays();\r\n  } else {\r\n    setData(JSON.parse(localStorage.getItem(\"playData\")));\r\n  }\r\n\r\n},  []);\r\n\r\n  const addLikes = (play) => {\r\n    let temp = [...like];\r\n    if (!temp.find((e) => e.title === play.title)) {\r\n      temp.push(play);\r\n      setLike(temp);\r\n    } else {\r\n      console.log(\"already in list\");\r\n    }\r\n  };\r\n\r\n  const removeLikes = (play) => {\r\n    const temp = [...like];\r\n    const index = temp.indexOf(play);\r\n    temp.splice(index, 1);\r\n    setLike(temp);\r\n  };\r\n\r\n  const updateCurrentPlay = (clickedPlay) => {\r\n    setCurrentPlay(clickedPlay);\r\n    \r\n  };\r\n\r\n\r\n  const updateIsChecked = () => {\r\n    setIsChecked(!isChecked);\r\n  }\r\n\r\n  const updateFaveBox = () => {\r\n    setShowFavorites(!showFavorites);\r\n  }\r\n  console.log(userData);\r\n  return (\r\n    <main>\r\n      <HashRouter basename='/'>\r\n      <Route path=\"/\" exact component={HomePage} />\r\n      <Route path=\"/home\" exact component={HomePage}/>\r\n        <Route path=\"/default\">\r\n          \r\n  \r\n\r\n        <DefaultPage\r\n              mainData={data}\r\n              userData={userData}\r\n              logout={logout}\r\n              setFilteredData={setFilteredData}\r\n              plays={filteredData}\r\n              likedPlays={like}\r\n              addToLike={addLikes}\r\n              removeFromLike={removeLikes}\r\n              updateCurrent={updateCurrentPlay}\r\n              current={currentPlay}\r\n              isChecked={isChecked}\r\n              updateIsChecked={updateIsChecked}\r\n              showFavorites={showFavorites}\r\n              updateFaveBox={updateFaveBox}\r\n\r\n            />\r\n          \r\n        </Route>\r\n      <Route path=\"/playDetails\">\r\n\r\n    \r\n        <PlayDetailPage\r\n          plays={data}\r\n          likedPlays={like}\r\n          addToLike={addLikes}\r\n          removeFromLike={removeLikes}\r\n          current={currentPlay}\r\n          updateCurrent={updateCurrentPlay}\r\n          filters={filteredData}\r\n\r\n          isChecked={isChecked}\r\n          updateIsChecked={updateIsChecked}\r\n\r\n          showFavorites={showFavorites}\r\n          updateFaveBox={updateFaveBox}\r\n        />\r\n  \r\n      </Route>\r\n     </ HashRouter>\r\n    </main>\r\n  );\r\n}\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}