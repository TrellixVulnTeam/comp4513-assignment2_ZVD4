{"ast":null,"code":"var _jsxFileName = \"C:\\\\web3\\\\assignment2-web3\\\\comp4513-assignment2\\\\client\\\\src\\\\components\\\\DefaultPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport HeaderBar from \"./HeaderBar\";\nimport FavoriteBox from \"./FavoritesBox\";\nimport FilterBox from \"./FilterBox\";\nimport ListBox from \"./ListBox\";\nimport { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { CSSTransition } from \"react-transition-group\";\nimport loadingGif from '../loadingGif/giphy.gif';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DefaultPage = props => {\n  _s();\n\n  const location = useLocation(); //check if matches are found from filter.\n\n  const [matchesFound, setMatchesFound] = useState(true);\n  useEffect(() => {\n    if (location.state.filters) {\n      props.setFilteredData(location.state.filters);\n    }\n  }, []);\n  let title = \"\";\n\n  if (location.state.title) {\n    title = location.state.title;\n  }\n\n  const updateFilteredData = filter => {\n    let updatedFilteredData = [];\n\n    if (Object.keys(filter).length === 0) {\n      updatedFilteredData = [...props.mainData];\n    } else {\n      //Must convert to lower case to obtain all possible matches for title, before initiating filter.\n      if (filter.title) {\n        filter.title = filter.title.toLowerCase();\n      } //Loop through main data, and contrast with each filter possibility, to render all possible matches.\n      //Checks if each \"filter\" state object property is set, and then it can verify whether it constains a match.\n\n\n      props.mainData.forEach(d => {\n        if (filter.title && filter.genre && filter.before && filter.after) {\n          if (d.title.toLowerCase().includes(filter.title) && d.genre === filter.genre && d.likelyDate < filter.before && d.likelyDate > filter.after) {\n            updatedFilteredData.push(d);\n          }\n        } else {\n          if (filter.title && filter.genre && filter.before) {\n            if (d.title.toLowerCase().includes(filter.title) && d.genre === filter.genre && d.likelyDate < filter.before) {\n              updatedFilteredData.push(d);\n            }\n          } else {\n            if (filter.title && filter.before && filter.after) {\n              if (d.title.toLowerCase().includes(filter.title) && d.likelyDate < filter.before && d.likelyDate > filter.after) {\n                updatedFilteredData.push(d);\n              }\n            } else {\n              if (filter.title && filter.after && filter.genre) {\n                if (d.title.toLowerCase().includes(filter.title) && d.likelyDate > filter.after && d.genre === filter.genre) {\n                  updatedFilteredData.push(d);\n                }\n              } else {\n                if (filter.genre && filter.before && filter.after) {\n                  if (d.genre === filter.genre && d.likelyDate < filter.before && d.likelyDate > filter.after) {\n                    updatedFilteredData.push(d);\n                  }\n                } else {\n                  if (filter.title && filter.genre) {\n                    if (d.title.toLowerCase().includes(filter.title) && d.genre === filter.genre) {\n                      updatedFilteredData.push(d);\n                    }\n                  } else {\n                    if (filter.title && filter.after) {\n                      if (d.title.toLowerCase().includes(filter.title) && d.likelyDate > filter.after) {\n                        updatedFilteredData.push(d);\n                      }\n                    } else {\n                      if (filter.title && filter.before) {\n                        if (d.title.toLowerCase().includes(filter.title) && d.likelyDate < filter.before) {\n                          updatedFilteredData.push(d);\n                        }\n                      } else {\n                        if (filter.genre && filter.before) {\n                          if (d.genre === filter.genre && d.likelyDate < filter.before) {\n                            updatedFilteredData.push(d);\n                          }\n                        } else {\n                          if (filter.genre && filter.after) {\n                            if (d.genre === filter.genre && d.likelyDate > filter.after) {\n                              updatedFilteredData.push(d);\n                            }\n                          } else {\n                            if (filter.before && filter.after) {\n                              if (d.likelyDate < filter.before && d.likelyDate > filter.after) {\n                                updatedFilteredData.push(d);\n                              }\n                            } else {\n                              if (filter.genre) {\n                                if (d.genre === filter.genre) {\n                                  updatedFilteredData.push(d);\n                                }\n                              } else {\n                                if (filter.title) {\n                                  if (d.title.toLowerCase().includes(filter.title)) {\n                                    updatedFilteredData.push(d);\n                                  }\n                                } else {\n                                  if (filter.before) {\n                                    if (d.likelyDate < filter.before) {\n                                      updatedFilteredData.push(d);\n                                    }\n                                  } else {\n                                    if (filter.after) {\n                                      if (d.likelyDate > filter.after) {\n                                        updatedFilteredData.push(d);\n                                      }\n                                    }\n                                  }\n                                }\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      });\n    }\n\n    if (updatedFilteredData.length === 0) {\n      setMatchesFound(false);\n    } else {\n      setMatchesFound(true);\n    }\n\n    props.setFilteredData(updatedFilteredData);\n  };\n\n  const [sortedPlays, setsortedPlays] = useState(props.plays);\n\n  const sortTitle = () => {\n    let sortData = props.plays.sort((a, b) => {\n      let at = a.title.toLowerCase();\n      let bt = b.title.toLowerCase();\n\n      if (at < bt) {\n        return -1;\n      }\n\n      if (at > bt) {\n        return 1;\n      }\n\n      return 0;\n    });\n    setsortedPlays(sortData);\n    console.log([...sortData]);\n  };\n\n  const sortYear = () => {\n    let sortData = props.plays.sort((a, b) => {\n      let ay = parseInt(a.likelyDate, 10);\n      let by = parseInt(b.likelyDate, 10);\n\n      if (ay < by) {\n        return -1;\n      }\n\n      if (ay > by) {\n        return 1;\n      }\n\n      return 0;\n    });\n    setsortedPlays([...sortData]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"defaultPage\",\n    children: [/*#__PURE__*/_jsxDEV(HeaderBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"defaultPageInfoBox\",\n      children: [props.showFavorites && props.isChecked === false ? /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"defaultFavoriteBox\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(FavoriteBox, {\n          plays: props.likedPlays,\n          removeFromLike: props.removeFromLike,\n          updateCurrent: props.updateCurrent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"hiddenFaveBox\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FilterBox, {\n        updateFilteredData: updateFilteredData,\n        title: title,\n        matchesFound: matchesFound,\n        updateIsChecked: props.updateIsChecked,\n        updateFaveBox: props.updateFaveBox\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ListBox, {\n        plays: props.plays,\n        addToLike: props.addToLike,\n        removeFromLike: props.removeFromLike,\n        updateCurrent: props.updateCurrent,\n        matchesBoolean: matchesFound,\n        sortTitle: sortTitle,\n        sortYear: sortYear\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DefaultPage, \"5KBM4hQjGwISbdQ2fsGSB0IGWGE=\", false, function () {\n  return [useLocation];\n});\n\n_c = DefaultPage;\nexport default DefaultPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"DefaultPage\");","map":{"version":3,"sources":["C:/web3/assignment2-web3/comp4513-assignment2/client/src/components/DefaultPage.jsx"],"names":["React","HeaderBar","FavoriteBox","FilterBox","ListBox","useState","useEffect","useLocation","CSSTransition","loadingGif","DefaultPage","props","location","matchesFound","setMatchesFound","state","filters","setFilteredData","title","updateFilteredData","filter","updatedFilteredData","Object","keys","length","mainData","toLowerCase","forEach","d","genre","before","after","includes","likelyDate","push","sortedPlays","setsortedPlays","plays","sortTitle","sortData","sort","a","b","at","bt","console","log","sortYear","ay","parseInt","by","showFavorites","isChecked","likedPlays","removeFromLike","updateCurrent","updateIsChecked","updateFaveBox","addToLike"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAAA;;AAC7B,QAAMC,QAAQ,GAAGL,WAAW,EAA5B,CAD6B,CAE3B;;AACF,QAAM,CAACM,YAAD,EAAeC,eAAf,IAAkCT,QAAQ,CAAC,IAAD,CAAhD;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIM,QAAQ,CAACG,KAAT,CAAeC,OAAnB,EAA4B;AAC1BL,MAAAA,KAAK,CAACM,eAAN,CAAsBL,QAAQ,CAACG,KAAT,CAAeC,OAArC;AACD;AACF,GAJQ,EAIN,EAJM,CAAT;AAMA,MAAIE,KAAK,GAAG,EAAZ;;AACA,MAAIN,QAAQ,CAACG,KAAT,CAAeG,KAAnB,EAA0B;AACxBA,IAAAA,KAAK,GAAGN,QAAQ,CAACG,KAAT,CAAeG,KAAvB;AACD;;AAED,QAAMC,kBAAkB,GAAIC,MAAD,IAAY;AACrC,QAAIC,mBAAmB,GAAG,EAA1B;;AAEA,QAAIC,MAAM,CAACC,IAAP,CAAYH,MAAZ,EAAoBI,MAApB,KAA+B,CAAnC,EAAsC;AACpCH,MAAAA,mBAAmB,GAAG,CAAC,GAAGV,KAAK,CAACc,QAAV,CAAtB;AACD,KAFD,MAEO;AACL;AACA,UAAIL,MAAM,CAACF,KAAX,EAAkB;AAChBE,QAAAA,MAAM,CAACF,KAAP,GAAeE,MAAM,CAACF,KAAP,CAAaQ,WAAb,EAAf;AACD,OAJI,CAML;AACA;;;AACAf,MAAAA,KAAK,CAACc,QAAN,CAAeE,OAAf,CAAwBC,CAAD,IAAO;AAC5B,YAAIR,MAAM,CAACF,KAAP,IAAgBE,MAAM,CAACS,KAAvB,IAAgCT,MAAM,CAACU,MAAvC,IAAiDV,MAAM,CAACW,KAA5D,EAAmE;AACjE,cACEH,CAAC,CAACV,KAAF,CAAQQ,WAAR,GAAsBM,QAAtB,CAA+BZ,MAAM,CAACF,KAAtC,KACAU,CAAC,CAACC,KAAF,KAAYT,MAAM,CAACS,KADnB,IAEAD,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACU,MAFtB,IAGAF,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACW,KAJxB,EAKE;AACAV,YAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,SATD,MASO;AACL,cAAIR,MAAM,CAACF,KAAP,IAAgBE,MAAM,CAACS,KAAvB,IAAgCT,MAAM,CAACU,MAA3C,EAAmD;AACjD,gBACEF,CAAC,CAACV,KAAF,CAAQQ,WAAR,GAAsBM,QAAtB,CAA+BZ,MAAM,CAACF,KAAtC,KACAU,CAAC,CAACC,KAAF,KAAYT,MAAM,CAACS,KADnB,IAEAD,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACU,MAHxB,EAIE;AACAT,cAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,WARD,MAQO;AACL,gBAAIR,MAAM,CAACF,KAAP,IAAgBE,MAAM,CAACU,MAAvB,IAAiCV,MAAM,CAACW,KAA5C,EAAmD;AACjD,kBACEH,CAAC,CAACV,KAAF,CAAQQ,WAAR,GAAsBM,QAAtB,CAA+BZ,MAAM,CAACF,KAAtC,KACAU,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACU,MADtB,IAEAF,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACW,KAHxB,EAIE;AACAV,gBAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,aARD,MAQO;AACL,kBAAIR,MAAM,CAACF,KAAP,IAAgBE,MAAM,CAACW,KAAvB,IAAgCX,MAAM,CAACS,KAA3C,EAAkD;AAChD,oBACED,CAAC,CAACV,KAAF,CAAQQ,WAAR,GAAsBM,QAAtB,CAA+BZ,MAAM,CAACF,KAAtC,KACAU,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACW,KADtB,IAEAH,CAAC,CAACC,KAAF,KAAYT,MAAM,CAACS,KAHrB,EAIE;AACAR,kBAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,eARD,MAQO;AACL,oBAAIR,MAAM,CAACS,KAAP,IAAgBT,MAAM,CAACU,MAAvB,IAAiCV,MAAM,CAACW,KAA5C,EAAmD;AACjD,sBACEH,CAAC,CAACC,KAAF,KAAYT,MAAM,CAACS,KAAnB,IACAD,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACU,MADtB,IAEAF,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACW,KAHxB,EAIE;AACAV,oBAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,iBARD,MAQO;AACL,sBAAIR,MAAM,CAACF,KAAP,IAAgBE,MAAM,CAACS,KAA3B,EAAkC;AAChC,wBACED,CAAC,CAACV,KAAF,CAAQQ,WAAR,GAAsBM,QAAtB,CAA+BZ,MAAM,CAACF,KAAtC,KACAU,CAAC,CAACC,KAAF,KAAYT,MAAM,CAACS,KAFrB,EAGE;AACAR,sBAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,mBAPD,MAOO;AACL,wBAAIR,MAAM,CAACF,KAAP,IAAgBE,MAAM,CAACW,KAA3B,EAAkC;AAChC,0BACEH,CAAC,CAACV,KAAF,CAAQQ,WAAR,GAAsBM,QAAtB,CAA+BZ,MAAM,CAACF,KAAtC,KACAU,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACW,KAFxB,EAGE;AACAV,wBAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,qBAPD,MAOO;AACL,0BAAIR,MAAM,CAACF,KAAP,IAAgBE,MAAM,CAACU,MAA3B,EAAmC;AACjC,4BACEF,CAAC,CAACV,KAAF,CAAQQ,WAAR,GAAsBM,QAAtB,CAA+BZ,MAAM,CAACF,KAAtC,KACAU,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACU,MAFxB,EAGE;AACAT,0BAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,uBAPD,MAOO;AACL,4BAAIR,MAAM,CAACS,KAAP,IAAgBT,MAAM,CAACU,MAA3B,EAAmC;AACjC,8BACEF,CAAC,CAACC,KAAF,KAAYT,MAAM,CAACS,KAAnB,IACAD,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACU,MAFxB,EAGE;AACAT,4BAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,yBAPD,MAOO;AACL,8BAAIR,MAAM,CAACS,KAAP,IAAgBT,MAAM,CAACW,KAA3B,EAAkC;AAChC,gCACEH,CAAC,CAACC,KAAF,KAAYT,MAAM,CAACS,KAAnB,IACAD,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACW,KAFxB,EAGE;AACAV,8BAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,2BAPD,MAOO;AACL,gCAAIR,MAAM,CAACU,MAAP,IAAiBV,MAAM,CAACW,KAA5B,EAAmC;AACjC,kCACEH,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACU,MAAtB,IACAF,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACW,KAFxB,EAGE;AACAV,gCAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,6BAPD,MAOO;AACL,kCAAIR,MAAM,CAACS,KAAX,EAAkB;AAChB,oCAAID,CAAC,CAACC,KAAF,KAAYT,MAAM,CAACS,KAAvB,EAA8B;AAC5BR,kCAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,+BAJD,MAIO;AACL,oCAAIR,MAAM,CAACF,KAAX,EAAkB;AAChB,sCACEU,CAAC,CAACV,KAAF,CAAQQ,WAAR,GAAsBM,QAAtB,CAA+BZ,MAAM,CAACF,KAAtC,CADF,EAEE;AACAG,oCAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,iCAND,MAMO;AACL,sCAAIR,MAAM,CAACU,MAAX,EAAmB;AACjB,wCAAIF,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACU,MAA1B,EAAkC;AAChCT,sCAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF,mCAJD,MAIO;AACL,wCAAIR,MAAM,CAACW,KAAX,EAAkB;AAChB,0CAAIH,CAAC,CAACK,UAAF,GAAeb,MAAM,CAACW,KAA1B,EAAiC;AAC/BV,wCAAAA,mBAAmB,CAACa,IAApB,CAAyBN,CAAzB;AACD;AACF;AACF;AACF;AACF;AACF;AACF;AACF;AACF;AACF;AACF;AACF;AACF;AACF;AACF;AACF;AACF,OAnID;AAoID;;AAED,QAAIP,mBAAmB,CAACG,MAApB,KAA+B,CAAnC,EAAsC;AACpCV,MAAAA,eAAe,CAAC,KAAD,CAAf;AACD,KAFD,MAEO;AACLA,MAAAA,eAAe,CAAC,IAAD,CAAf;AACD;;AAEDH,IAAAA,KAAK,CAACM,eAAN,CAAsBI,mBAAtB;AACD,GA1JD;;AA4JA,QAAM,CAACc,WAAD,EAAcC,cAAd,IAAgC/B,QAAQ,CAACM,KAAK,CAAC0B,KAAP,CAA9C;;AAEA,QAAMC,SAAS,GAAG,MAAM;AACtB,QAAIC,QAAQ,GAAG5B,KAAK,CAAC0B,KAAN,CAAYG,IAAZ,CAAiB,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACxC,UAAIC,EAAE,GAAGF,CAAC,CAACvB,KAAF,CAAQQ,WAAR,EAAT;AACA,UAAIkB,EAAE,GAAGF,CAAC,CAACxB,KAAF,CAAQQ,WAAR,EAAT;;AAEA,UAAIiB,EAAE,GAAGC,EAAT,EAAa;AACX,eAAO,CAAC,CAAR;AACD;;AACD,UAAID,EAAE,GAAGC,EAAT,EAAa;AACX,eAAO,CAAP;AACD;;AACD,aAAO,CAAP;AACD,KAXc,CAAf;AAYAR,IAAAA,cAAc,CAACG,QAAD,CAAd;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,CAAC,GAAGP,QAAJ,CAAZ;AACD,GAfD;;AAgBA,QAAMQ,QAAQ,GAAG,MAAM;AACrB,QAAIR,QAAQ,GAAG5B,KAAK,CAAC0B,KAAN,CAAYG,IAAZ,CAAiB,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACxC,UAAIM,EAAE,GAAGC,QAAQ,CAACR,CAAC,CAACR,UAAH,EAAe,EAAf,CAAjB;AACA,UAAIiB,EAAE,GAAGD,QAAQ,CAACP,CAAC,CAACT,UAAH,EAAe,EAAf,CAAjB;;AAEA,UAAIe,EAAE,GAAGE,EAAT,EAAa;AACX,eAAO,CAAC,CAAR;AACD;;AACD,UAAIF,EAAE,GAAGE,EAAT,EAAa;AACX,eAAO,CAAP;AACD;;AACD,aAAO,CAAP;AACD,KAXc,CAAf;AAYAd,IAAAA,cAAc,CAAC,CAAC,GAAGG,QAAJ,CAAD,CAAd;AACD,GAdD;;AAgBA,sBACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA,4BACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,EAAE,EAAC,oBAAR;AAAA,iBACG5B,KAAK,CAACwC,aAAN,IAAuBxC,KAAK,CAACyC,SAAN,KAAoB,KAA3C,gBACC;AAAK,QAAA,EAAE,EAAC,oBAAR;AAAA,mBACG,GADH,eAEE,QAAC,WAAD;AACE,UAAA,KAAK,EAAEzC,KAAK,CAAC0C,UADf;AAEE,UAAA,cAAc,EAAE1C,KAAK,CAAC2C,cAFxB;AAGE,UAAA,aAAa,EAAE3C,KAAK,CAAC4C;AAHvB;AAAA;AAAA;AAAA;AAAA,gBAFF,EAMK,GANL;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,gBAUC;AAAK,QAAA,EAAE,EAAC,eAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ,eAcE,QAAC,SAAD;AACE,QAAA,kBAAkB,EAAEpC,kBADtB;AAEE,QAAA,KAAK,EAAED,KAFT;AAGE,QAAA,YAAY,EAAEL,YAHhB;AAIE,QAAA,eAAe,EAAEF,KAAK,CAAC6C,eAJzB;AAKE,QAAA,aAAa,EAAE7C,KAAK,CAAC8C;AALvB;AAAA;AAAA;AAAA;AAAA,cAdF,eAqBE,QAAC,OAAD;AACE,QAAA,KAAK,EAAE9C,KAAK,CAAC0B,KADf;AAEE,QAAA,SAAS,EAAE1B,KAAK,CAAC+C,SAFnB;AAGE,QAAA,cAAc,EAAE/C,KAAK,CAAC2C,cAHxB;AAIE,QAAA,aAAa,EAAE3C,KAAK,CAAC4C,aAJvB;AAKE,QAAA,cAAc,EAAE1C,YALlB;AAME,QAAA,SAAS,EAAEyB,SANb;AAOE,QAAA,QAAQ,EAAES;AAPZ;AAAA;AAAA;AAAA;AAAA,cArBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAsCD,CAnPD;;GAAMrC,W;UACaH,W;;;KADbG,W;AAqPN,eAAeA,WAAf","sourcesContent":["import React from \"react\";\r\nimport HeaderBar from \"./HeaderBar\";\r\nimport FavoriteBox from \"./FavoritesBox\";\r\nimport FilterBox from \"./FilterBox\";\r\nimport ListBox from \"./ListBox\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport loadingGif from '../loadingGif/giphy.gif';\r\n\r\nconst DefaultPage = (props) => {\r\n  const location = useLocation();\r\n    //check if matches are found from filter.\r\n  const [matchesFound, setMatchesFound] = useState(true);\r\n  useEffect(() => {\r\n    if (location.state.filters) {\r\n      props.setFilteredData(location.state.filters);\r\n    }    \r\n  }, []);\r\n\r\n  let title = \"\";\r\n  if (location.state.title) {\r\n    title = location.state.title;\r\n  }\r\n\r\n  const updateFilteredData = (filter) => {\r\n    let updatedFilteredData = [];\r\n\r\n    if (Object.keys(filter).length === 0) {\r\n      updatedFilteredData = [...props.mainData];\r\n    } else {\r\n      //Must convert to lower case to obtain all possible matches for title, before initiating filter.\r\n      if (filter.title) {\r\n        filter.title = filter.title.toLowerCase();\r\n      }\r\n\r\n      //Loop through main data, and contrast with each filter possibility, to render all possible matches.\r\n      //Checks if each \"filter\" state object property is set, and then it can verify whether it constains a match.\r\n      props.mainData.forEach((d) => {\r\n        if (filter.title && filter.genre && filter.before && filter.after) {\r\n          if (\r\n            d.title.toLowerCase().includes(filter.title) &&\r\n            d.genre === filter.genre &&\r\n            d.likelyDate < filter.before &&\r\n            d.likelyDate > filter.after\r\n          ) {\r\n            updatedFilteredData.push(d);\r\n          }\r\n        } else {\r\n          if (filter.title && filter.genre && filter.before) {\r\n            if (\r\n              d.title.toLowerCase().includes(filter.title) &&\r\n              d.genre === filter.genre &&\r\n              d.likelyDate < filter.before\r\n            ) {\r\n              updatedFilteredData.push(d);\r\n            }\r\n          } else {\r\n            if (filter.title && filter.before && filter.after) {\r\n              if (\r\n                d.title.toLowerCase().includes(filter.title) &&\r\n                d.likelyDate < filter.before &&\r\n                d.likelyDate > filter.after\r\n              ) {\r\n                updatedFilteredData.push(d);\r\n              }\r\n            } else {\r\n              if (filter.title && filter.after && filter.genre) {\r\n                if (\r\n                  d.title.toLowerCase().includes(filter.title) &&\r\n                  d.likelyDate > filter.after &&\r\n                  d.genre === filter.genre\r\n                ) {\r\n                  updatedFilteredData.push(d);\r\n                }\r\n              } else {\r\n                if (filter.genre && filter.before && filter.after) {\r\n                  if (\r\n                    d.genre === filter.genre &&\r\n                    d.likelyDate < filter.before &&\r\n                    d.likelyDate > filter.after\r\n                  ) {\r\n                    updatedFilteredData.push(d);\r\n                  }\r\n                } else {\r\n                  if (filter.title && filter.genre) {\r\n                    if (\r\n                      d.title.toLowerCase().includes(filter.title) &&\r\n                      d.genre === filter.genre\r\n                    ) {\r\n                      updatedFilteredData.push(d);\r\n                    }\r\n                  } else {\r\n                    if (filter.title && filter.after) {\r\n                      if (\r\n                        d.title.toLowerCase().includes(filter.title) &&\r\n                        d.likelyDate > filter.after\r\n                      ) {\r\n                        updatedFilteredData.push(d);\r\n                      }\r\n                    } else {\r\n                      if (filter.title && filter.before) {\r\n                        if (\r\n                          d.title.toLowerCase().includes(filter.title) &&\r\n                          d.likelyDate < filter.before\r\n                        ) {\r\n                          updatedFilteredData.push(d);\r\n                        }\r\n                      } else {\r\n                        if (filter.genre && filter.before) {\r\n                          if (\r\n                            d.genre === filter.genre &&\r\n                            d.likelyDate < filter.before\r\n                          ) {\r\n                            updatedFilteredData.push(d);\r\n                          }\r\n                        } else {\r\n                          if (filter.genre && filter.after) {\r\n                            if (\r\n                              d.genre === filter.genre &&\r\n                              d.likelyDate > filter.after\r\n                            ) {\r\n                              updatedFilteredData.push(d);\r\n                            }\r\n                          } else {\r\n                            if (filter.before && filter.after) {\r\n                              if (\r\n                                d.likelyDate < filter.before &&\r\n                                d.likelyDate > filter.after\r\n                              ) {\r\n                                updatedFilteredData.push(d);\r\n                              }\r\n                            } else {\r\n                              if (filter.genre) {\r\n                                if (d.genre === filter.genre) {\r\n                                  updatedFilteredData.push(d);\r\n                                }\r\n                              } else {\r\n                                if (filter.title) {\r\n                                  if (\r\n                                    d.title.toLowerCase().includes(filter.title)\r\n                                  ) {\r\n                                    updatedFilteredData.push(d);\r\n                                  }\r\n                                } else {\r\n                                  if (filter.before) {\r\n                                    if (d.likelyDate < filter.before) {\r\n                                      updatedFilteredData.push(d);\r\n                                    }\r\n                                  } else {\r\n                                    if (filter.after) {\r\n                                      if (d.likelyDate > filter.after) {\r\n                                        updatedFilteredData.push(d);\r\n                                      }\r\n                                    }\r\n                                  }\r\n                                }\r\n                              }\r\n                            }\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    if (updatedFilteredData.length === 0) {\r\n      setMatchesFound(false);\r\n    } else {\r\n      setMatchesFound(true);\r\n    }\r\n\r\n    props.setFilteredData(updatedFilteredData);\r\n  };\r\n\r\n  const [sortedPlays, setsortedPlays] = useState(props.plays);\r\n\r\n  const sortTitle = () => {\r\n    let sortData = props.plays.sort((a, b) => {\r\n      let at = a.title.toLowerCase();\r\n      let bt = b.title.toLowerCase();\r\n\r\n      if (at < bt) {\r\n        return -1;\r\n      }\r\n      if (at > bt) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    });\r\n    setsortedPlays(sortData);\r\n    console.log([...sortData]);\r\n  };\r\n  const sortYear = () => {\r\n    let sortData = props.plays.sort((a, b) => {\r\n      let ay = parseInt(a.likelyDate, 10);\r\n      let by = parseInt(b.likelyDate, 10);\r\n\r\n      if (ay < by) {\r\n        return -1;\r\n      }\r\n      if (ay > by) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    });\r\n    setsortedPlays([...sortData]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"defaultPage\">\r\n      <HeaderBar />\r\n      <div id=\"defaultPageInfoBox\">\r\n        {props.showFavorites && props.isChecked === false ? (\r\n          <div id=\"defaultFavoriteBox\">\r\n            {\" \"}\r\n            <FavoriteBox\r\n              plays={props.likedPlays}\r\n              removeFromLike={props.removeFromLike}\r\n              updateCurrent={props.updateCurrent}\r\n            />{\" \"}\r\n          </div>\r\n        ) : (\r\n          <div id=\"hiddenFaveBox\"> </div>\r\n        )}\r\n\r\n        <FilterBox\r\n          updateFilteredData={updateFilteredData}\r\n          title={title}\r\n          matchesFound={matchesFound}\r\n          updateIsChecked={props.updateIsChecked}\r\n          updateFaveBox={props.updateFaveBox}\r\n        />\r\n        <ListBox\r\n          plays={props.plays}\r\n          addToLike={props.addToLike}\r\n          removeFromLike={props.removeFromLike}\r\n          updateCurrent={props.updateCurrent}\r\n          matchesBoolean={matchesFound}\r\n          sortTitle={sortTitle}\r\n          sortYear={sortYear}\r\n        />\r\n     \r\n      </div>\r\n    </div>\r\n        \r\n  );\r\n};\r\n\r\nexport default DefaultPage;\r\n"]},"metadata":{},"sourceType":"module"}